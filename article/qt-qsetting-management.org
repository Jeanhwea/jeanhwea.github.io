#+TITLE: QSettings 操作
#+AUTHOR: Jinghui Hu
#+EMAIL: hujinghui@buaa.edu.cn
#+DATE: <2026-01-04 Sun>
#+HTML_LINK_UP: ../readme.html
#+HTML_LINK_HOME: ../index.html
#+SETUPFILE: ~/.emacs.d/site-lisp/org-html-themes/setup/theme-readtheorg-local.setup


* QSettings
PySide6 持久化系统级别的配置数据往往会使用 QSettings 这个工具
#+BEGIN_SRC python
  # 创建对象
  settings = QSettings(consts.SYS_COMPANY, consts.SYS_APP_NAME)

  # get/set 数据
  data_value: str = settings.value(data_key)
  settings.setValue(data_key, data_value)

  # 查看保持文件
  settings.fileName()
#+END_SRC

* macOS 操作
macOS 文件会持久化到 =~/Library/Preferences= 目录中，
用户首次绝对直接 =rm com.company.xxx.plist= 就可以清楚配置，
但是 macOS 的配置文件有缓存，
通常使用下面命令操作。

#+BEGIN_EXAMPLE
  # 读取配置
  $ defaults read com.red-infinity.AndroidCrashTraceTool
  {
      "ndk-root" = "/Users/jhh/Library/Android/sdk/ndk/27.3.13750724";
  }
  # 删除配置
  $ defaults delete com.red-infinity.AndroidCrashTraceTool
#+END_EXAMPLE

* windows 存注册表
#+BEGIN_EXAMPLE
计算机\HKEY_CURRENT_USER\Software\Red Infinity\AndroidCrashTraceTool
#+END_EXAMPLE

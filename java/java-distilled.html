<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-03-17 Tue 23:27 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Java 编程语言精粹</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Jinghui Hu" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="styles/readtheorg/css/readtheorg.css"/>
<script type="text/javascript" src="styles/lib/js/jquery.min.js"></script>
<script type="text/javascript" src="styles/lib/js/bootstrap.min.js"></script>
<script type="text/javascript" src="styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="../readme.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content">
<h1 class="title">Java 编程语言精粹</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org9f75898">1. 开发工具</a>
<ul>
<li><a href="#org2097fa1">1.1. JDK 的安装和环境变量配置</a></li>
<li><a href="#orgaf254b1">1.2. 编译器 javac 和虚拟机 java</a></li>
<li><a href="#orgf46c67d">1.3. <span class="todo TODO">TODO</span> 调试器 jdb</a></li>
<li><a href="#orgb570014">1.4. 解释器 jrepl</a></li>
<li><a href="#org3778963">1.5. 反汇编器 javap</a></li>
</ul>
</li>
<li><a href="#org6cb32f7">2. 基本用法</a>
<ul>
<li><a href="#orgb1c5934">2.1. 基本类型</a></li>
<li><a href="#org41c735c">2.2. String</a>
<ul>
<li><a href="#orgfb61a12">2.2.1. 字符串基本操作</a></li>
<li><a href="#orgc9599ed">2.2.2. String 的不可变性</a></li>
<li><a href="#org7e0ed80">2.2.3. String, StringBuilder 和 StringBuffer</a></li>
</ul>
</li>
<li><a href="#orgc795686">2.3. 输入和输出</a></li>
<li><a href="#orgc7c4098">2.4. 数组的操作</a></li>
<li><a href="#org40d81a6">2.5. 静态变量和实例变量</a></li>
<li><a href="#org9320dfa">2.6. <code>final</code> 关键字</a></li>
<li><a href="#orga89277c">2.7. equals 与 <code>==</code> 的区别</a></li>
<li><a href="#org7b345b4">2.8. 序列化</a></li>
<li><a href="#org09f199e">2.9. 错误和异常</a></li>
</ul>
</li>
<li><a href="#org7d9df0f">3. 面向对象</a>
<ul>
<li><a href="#orgcfd17ef">3.1. 对象初始化和消亡</a></li>
<li><a href="#orgc60777a">3.2. 面向对象的特征</a>
<ul>
<li><a href="#org42fc95a">3.2.1. 继承</a></li>
<li><a href="#org4821d1d">3.2.2. 多态</a></li>
<li><a href="#org06b5145">3.2.3. 封装</a></li>
</ul>
</li>
<li><a href="#org66092dd">3.3. Overload 和 Override</a></li>
<li><a href="#org3011744">3.4. 接口和抽象类</a>
<ul>
<li><a href="#org01fc2e4">3.4.1. 接口</a></li>
<li><a href="#org8321271">3.4.2. 抽象类</a></li>
</ul>
</li>
<li><a href="#org7bd4b52">3.5. 泛型</a>
<ul>
<li><a href="#orgbfa4dc2">3.5.1. 类和接口的泛型</a></li>
<li><a href="#org721ee99">3.5.2. 方法的泛型</a></li>
<li><a href="#org6b930d4">3.5.3. 泛型中使用 extends 和 super 关键字</a></li>
<li><a href="#org209aa8d">3.5.4. 泛型的注意点</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org9f88d48">4. 参考代码片段</a>
<ul>
<li><a href="#orgc0d96bf">4.1. List 和数组互转</a></li>
<li><a href="#org12ba697">4.2. <code>assert</code> 断言</a></li>
<li><a href="#org7d875cb">4.3. 格式输出字符串</a></li>
<li><a href="#org2cf423c">4.4. 获取当前时间戳</a></li>
<li><a href="#org2d8c6bf">4.5. 正则表达式</a></li>
<li><a href="#org2564430">4.6. 线程</a></li>
</ul>
</li>
<li><a href="#orged411d1">5. JDK 和 JVM</a>
<ul>
<li><a href="#org8e4d11d">5.1. JDK 1.8 简洁和新特性</a></li>
<li><a href="#org5f83701">5.2. <span class="todo TODO">TODO</span> JVM</a>
<ul>
<li><a href="#org6ce89b0">5.2.1. 类加载过程</a></li>
</ul>
</li>
<li><a href="#org5a08164">5.3. <span class="todo TODO">TODO</span> JDK 常用包</a>
<ul>
<li><a href="#org9bb77c2">5.3.1. <code>java.lang</code></a></li>
<li><a href="#org02f1e45">5.3.2. <code>java.io</code></a></li>
<li><a href="#orgcb2cd35">5.3.3. <code>java.net</code></a></li>
<li><a href="#orgff4b3c7">5.3.4. <code>java.util</code></a></li>
<li><a href="#orgd856b75">5.3.5. <code>java.sql</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org09907a5">6. READ</a></li>
</ul>
</div>
</div>


<div id="outline-container-org9f75898" class="outline-2">
<h2 id="org9f75898"><span class="section-number-2">1</span> 开发工具</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org2097fa1" class="outline-3">
<h3 id="org2097fa1"><span class="section-number-3">1.1</span> JDK 的安装和环境变量配置</h3>
<div class="outline-text-3" id="text-1-1">
<p>
JDK 可以直接在 Oracle 网站上下载，链接是 <a href="https://www.oracle.com/java/technologies/javase-jdk8-downloads.html">JDK 1.8 Download</a> ，将 JDK 直接解压放
到一个文件夹里就可以使用 JDK，Java 一般会配置 <code>JAVA_HOME</code> 环境变量，
<code>JAVA_HOME</code> 环境变量是指向 Java 的安装文件夹，具体配置如下所示
</p>
<div class="org-src-container">
<pre class="src src-sh">mkdir -p /usr/local/java &amp;&amp; <span style="color: #6c71c4;">cd</span> /usr/local/java
tar xzvf jdk-8u231-linux-x64.tar.gz
</pre>
</div>

<p>
配置环境变量如下
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #6c71c4;">export</span> <span style="color: #6c71c4;">JAVA_HOME</span>=<span style="color: #2aa198;">'/usr/local/java/jdk1.8.0_231'</span>
<span style="color: #6c71c4;">export</span> <span style="color: #6c71c4;">PATH</span>=$<span style="color: #6c71c4;">JAVA_HOME</span>/bin:$<span style="color: #6c71c4;">PATH</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaf254b1" class="outline-3">
<h3 id="orgaf254b1"><span class="section-number-3">1.2</span> 编译器 javac 和虚拟机 java</h3>
<div class="outline-text-3" id="text-1-2">
<p>
Java 的两个基本工具是 <code>javac</code> 和 <code>java</code>, 其中这两个工具功能如下：
</p>
<ul class="org-ul">
<li>javac 是 Java 的编译器，将 Java 的源代码编译成虚拟机识别的字节码</li>
<li>java 是 Java 的执行器，可以执行 Java 编译器编译好的字节码</li>
</ul>

<p>
下面是查看工具版本的方法
</p>
<div class="org-src-container">
<pre class="src src-text">$ java -version
java version "1.8.0_221"
Java(TM) SE Runtime Environment (build 1.8.0_221-b11)
Java HotSpot(TM) 64-Bit Server VM (build 25.221-b11, mixed mode)
$ javac -version
javac 1.8.0_221
</pre>
</div>

<p>
也可以使用 javac 和 java 一个编译并执行 Java 代码
</p>
<div class="org-src-container">
<pre class="src src-text">$ ls
Hello.java
$ cat Hello.java
public class Hello {
  public static void main(String args[]) {
    System.out.println("hello");
  }
}
$ javac Hello.java
$ ls
Hello.class  Hello.java
$ java Hello
hello
$
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf46c67d" class="outline-3">
<h3 id="orgf46c67d"><span class="section-number-3">1.3</span> <span class="todo TODO">TODO</span> 调试器 jdb</h3>
<div class="outline-text-3" id="text-1-3">
<p>
Java 自带的调试器是 <code>jdb</code> 命令，通常可以使用集成开发环境（IDE）中的调试工具来
调试 Java，所以 jdb 一般使用的比较少
</p>
</div>
</div>

<div id="outline-container-orgb570014" class="outline-3">
<h3 id="orgb570014"><span class="section-number-3">1.4</span> 解释器 jrepl</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Java 9 的 JDK 中就自带解释器, 可以用于调试一些常见的命令。Java 8 用户可以使用
一个民间开发的 REPL，就叫 <code>java-repl</code>, 该工具可以在 <a href="https://github.com/albertlatacz/java-repl">github</a> 中下载 jar 包，然
后直接执行
</p>
<div class="org-src-container">
<pre class="src src-sh">java -jar $<span style="color: #6c71c4;">JAVA_HOME</span>/lib/javarepl-dev.jar
</pre>
</div>

<p>
我一般直接建一个别名，这样运行 java 的解释器效果如下
</p>
<div class="org-src-container">
<pre class="src src-text">$ jrepl
[INFO] Unable to bind key for unsupported operation: edit-and-execute-command
Welcome to JavaREPL version dev (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_231)
Type expression to evaluate, :help for more options or press tab to auto-complete.
Connected to local instance at http://localhost:40173
java&gt; "hello world"
java.lang.String res0 = "hello world"
java&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org3778963" class="outline-3">
<h3 id="org3778963"><span class="section-number-3">1.5</span> 反汇编器 javap</h3>
<div class="outline-text-3" id="text-1-5">
<p>
javap 时 JDK 自带的反汇编器，可以反汇编 java 的类
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">class</span> <span style="color: #268bd2;">Apple</span> <span style="color: #8d5649;">{</span>

  <span style="color: #859900;">public</span> <span style="color: #268bd2;">int</span> <span style="color: #b58900;">add</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">int</span> <span style="color: #6c71c4;">a</span>, <span style="color: #268bd2;">int</span> <span style="color: #6c71c4;">b</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #859900;">return</span> a + b;
  <span style="color: #d8241f;">}</span>

  <span style="color: #859900;">public</span> <span style="color: #859900;">static</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">main</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">args</span><span style="color: #9564bf;">[]</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    System.out.println<span style="color: #9564bf;">(</span><span style="color: #2aa198;">"Hello World"</span><span style="color: #9564bf;">)</span>;
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>

<p>
使用 javap 的反汇编的示例如下
</p>
<div class="org-src-container">
<pre class="src src-text">$ javap Apple
Compiled from "Apple.java"
class Apple {
  Apple();
  public int add(int, int);
  public static void main(java.lang.String[]);
}

$ javap -c Apple
Compiled from "Apple.java"
class Apple {
  Apple();
    Code:
       0: aload_0
       1: invokespecial #1                  // Method java/lang/Object."&lt;init&gt;":()V
       4: return

  public int add(int, int);
    Code:
       0: iload_1
       1: iload_2
       2: iadd
       3: ireturn

  public static void main(java.lang.String[]);
    Code:
       0: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;
       3: ldc           #3                  // String Hello World
       5: invokevirtual #4                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
       8: return
}

$ javap -v Apple
Classfile /tmp/java/Apple.class
  Last modified Mar 17, 2020; size 471 bytes
  MD5 checksum ad20aeca420725caad4423644222e82d
  Compiled from "Apple.java"
class Apple
  minor version: 0
  major version: 52
  flags: ACC_SUPER
Constant pool:
   #1 = Methodref          #6.#17         // java/lang/Object."&lt;init&gt;":()V
   #2 = Fieldref           #18.#19        // java/lang/System.out:Ljava/io/PrintStream;
   #3 = String             #20            // Hello World
   #4 = Methodref          #21.#22        // java/io/PrintStream.println:(Ljava/lang/String;)V
   #5 = Class              #23            // Apple
   #6 = Class              #24            // java/lang/Object
   #7 = Utf8               &lt;init&gt;
   #8 = Utf8               ()V
   #9 = Utf8               Code
  #10 = Utf8               LineNumberTable
  #11 = Utf8               add
  #12 = Utf8               (II)I
  #13 = Utf8               main
  #14 = Utf8               ([Ljava/lang/String;)V
  #15 = Utf8               SourceFile
  #16 = Utf8               Apple.java
  #17 = NameAndType        #7:#8          // "&lt;init&gt;":()V
  #18 = Class              #25            // java/lang/System
  #19 = NameAndType        #26:#27        // out:Ljava/io/PrintStream;
  #20 = Utf8               Hello World
  #21 = Class              #28            // java/io/PrintStream
  #22 = NameAndType        #29:#30        // println:(Ljava/lang/String;)V
  #23 = Utf8               Apple
  #24 = Utf8               java/lang/Object
  #25 = Utf8               java/lang/System
  #26 = Utf8               out
  #27 = Utf8               Ljava/io/PrintStream;
  #28 = Utf8               java/io/PrintStream
  #29 = Utf8               println
  #30 = Utf8               (Ljava/lang/String;)V
{
  Apple();
    descriptor: ()V
    flags:
    Code:
      stack=1, locals=1, args_size=1
         0: aload_0
         1: invokespecial #1                  // Method java/lang/Object."&lt;init&gt;":()V
         4: return
      LineNumberTable:
        line 1: 0

  public int add(int, int);
    descriptor: (II)I
    flags: ACC_PUBLIC
    Code:
      stack=2, locals=3, args_size=3
         0: iload_1
         1: iload_2
         2: iadd
         3: ireturn
      LineNumberTable:
        line 4: 0

  public static void main(java.lang.String[]);
    descriptor: ([Ljava/lang/String;)V
    flags: ACC_PUBLIC, ACC_STATIC
    Code:
      stack=2, locals=1, args_size=1
         0: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;
         3: ldc           #3                  // String Hello World
         5: invokevirtual #4                  // Method java/io/PrintStream.println:(Ljava/lang/String;)V
         8: return
      LineNumberTable:
        line 8: 0
        line 9: 8
}
SourceFile: "Apple.java"
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6cb32f7" class="outline-2">
<h2 id="org6cb32f7"><span class="section-number-2">2</span> 基本用法</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orgb1c5934" class="outline-3">
<h3 id="orgb1c5934"><span class="section-number-3">2.1</span> 基本类型</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Java 语言中有 8 个基本类型，和 C++语言不同的是 Java 的基本类型的存储空间是固
定的，每种类型的信息如下
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">类型</th>
<th scope="col" class="org-left">存储空间</th>
<th scope="col" class="org-left">封装类</th>
<th scope="col" class="org-left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">boolean</td>
<td class="org-left">1 bit</td>
<td class="org-left">Boolean</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">byte</td>
<td class="org-left">1 字节</td>
<td class="org-left">Byte</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">char</td>
<td class="org-left">2 字节</td>
<td class="org-left">Character</td>
<td class="org-left">Unicode 编码</td>
</tr>

<tr>
<td class="org-left">short</td>
<td class="org-left">2 字节</td>
<td class="org-left">Short</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">int</td>
<td class="org-left">4 字节</td>
<td class="org-left">Integer</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">long</td>
<td class="org-left">8 字节</td>
<td class="org-left">Long</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">float</td>
<td class="org-left">4 字节</td>
<td class="org-left">Float</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">double</td>
<td class="org-left">8 字节</td>
<td class="org-left">Double</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
数值基本类型可以存在如下的自动转换（红色虚线表示损失精度，蓝色实线表示不损失精度）：
</p>


<div class="figure">
<p><img src="../static/image/2019/08/java-conversions-between-numeric-types.png" alt="java-conversions-between-numeric-types.png" />
</p>
</div>

<p>
基本类型和封装类的区别
</p>
<ul class="org-ul">
<li>传值方式不同，基本数据类型（原始数据类型）是值传递，封装类型是引用传递</li>
<li>封装类有方法和属性，可以利用这些方法和属性来处理数据，例如
<code>Integer.parseInt(String str);</code> 基本数据类型都是 final 修饰的，不能被继承和
扩展新的类、方法</li>
<li>默认值不同，如 <code>int i;</code> 默认值为 0，而 <code>Integer j;</code> 默认值为 <code>null</code>, 因为此
时 <code>j</code> 为对象，对象默认值为 <code>null</code></li>
<li>存储位置不同, 定义的基本数据类型的变量和对象的引用变量（地址）存储在栈中，
而实际对应的对象（value）是存储在堆中</li>
</ul>
</div>
</div>

<div id="outline-container-org41c735c" class="outline-3">
<h3 id="org41c735c"><span class="section-number-3">2.2</span> String</h3>
<div class="outline-text-3" id="text-2-2">
</div>
<div id="outline-container-orgfb61a12" class="outline-4">
<h4 id="orgfb61a12"><span class="section-number-4">2.2.1</span> 字符串基本操作</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
String 在 Java 中不是基本类型，对应的有一个 String 类
</p>
<div class="org-src-container">
<pre class="src src-text">java&gt; String str1 = "";
java.lang.String str1 = ""
java&gt; str1.isEmpty();
java.lang.Boolean res1 = true
java&gt; str1.substring(0,3);
java.lang.StringIndexOutOfBoundsException: String index out of range: 3
java&gt; String str2 = "Hello"
java.lang.String str2 = "Hello"
java&gt; str2.substring(0,3)
java.lang.String res3 = "Hel"
java&gt; str2.substring(1,3)
java.lang.String res4 = "el"
java&gt; str2.substring(1,3) == "el"
java.lang.Boolean res5 = false
java&gt; str2.substring(1,3).equals("el")
java.lang.Boolean res6 = true
java&gt;
</pre>
</div>

<p>
在判断字符串 str 为非空时需要写如下的两个条件
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">if</span> <span style="color: #8d5649;">(</span>str != <span style="color: #268bd2;">null</span> &amp;&amp; <span style="color: #268bd2;">!</span>str.isEmpty<span style="color: #d8241f;">()</span><span style="color: #8d5649;">)</span> <span style="color: #8d5649;">{</span>
  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">if str is not empty</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc9599ed" class="outline-4">
<h4 id="orgc9599ed"><span class="section-number-4">2.2.2</span> String 的不可变性</h4>
<div class="outline-text-4" id="text-2-2-2">
<p>
不可变对象指的是 <b>一个对象，在它创建完成之后，不能再改变它的状态</b> 。不能改变
状态的意思是，不能改变对象内的成员变量，包括基本数据类型的值不能改变，引用类
型的变量不能指向其他的对象，引用类型指向的对象的状态也不能改变。 如何创建不
可变类
</p>

<p>
至于为什么要把 String 类设计成不可变类，是它的用途决定的。其实不只 String，
很多 Java 标准类库中的类都是不可变的。在开发一个系统的时候，我们有时候也需要
设计不可变类，来传递一组相关的值，这也是面向对象思想的体现。不可变类有一些优
点，比如因为它的对象是只读的，所以多线程并发访问也不会有任何问题。当然也有一
些缺点，比如每个不同的状态都要一个对象来代表，可能会造成性能上的问题。所以
Java 标准类库还提供了一个可变版本，即 StringBuffer。
</p>

<p>
<code>javac</code> 编译可以对字符串常量直接相加的表达式进行优化，不必要等到运行期去进行
加法运算处理，而是在编译时去掉其中的加号，直接将其编译成一个这些常量相连的结
果。所以 <code>String s = "a" + "b" + "c" + "d";</code> 只生成一个对象.
</p>
</div>
</div>

<div id="outline-container-org7e0ed80" class="outline-4">
<h4 id="org7e0ed80"><span class="section-number-4">2.2.3</span> String, StringBuilder 和 StringBuffer</h4>
<div class="outline-text-4" id="text-2-2-3">
<p>
Java 平台提供了两种类型的字符串：String 和 StringBuffer / StringBuilder，它们
可以储存和操作字符串。其中 String 是只读字符串，也就意味着 String 引用的字符
串内容是不能被改变的。
</p>

<p>
而 StringBuffer 和 StringBuilder 类表示的字符串对象可以直接进行修改。
StringBuilder 是 JDK 1.5 中引入的，它和 StringBuffer 的方法完全相同，区别在
于它是在单线程环境下使用的，因为它的所有方面都没有被 <code>synchronized</code> 修饰，因
此它的效率也比 StringBuffer 略高。
</p>
</div>
</div>
</div>

<div id="outline-container-orgc795686" class="outline-3">
<h3 id="orgc795686"><span class="section-number-3">2.3</span> 输入和输出</h3>
<div class="outline-text-3" id="text-2-3">
<p>
读取数据的输入和打印到标准输出
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #268bd2;">Scanner</span> <span style="color: #6c71c4;">in</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Scanner</span><span style="color: #8d5649;">(</span>System.in<span style="color: #8d5649;">)</span>;
System.out.println<span style="color: #8d5649;">(</span><span style="color: #2aa198;">"What is your name?"</span><span style="color: #8d5649;">)</span>;
<span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">name</span> = in.nextLine<span style="color: #8d5649;">()</span>;
</pre>
</div>

<p>
格式化输出浮点数
</p>
<div class="org-src-container">
<pre class="src src-text">java&gt; double x = 100000.0 / 3.0;
double x = 33333.333333333336
java&gt; System.out.printf("%.3f", x)
33333.333
java&gt; System.out.printf("%,.3f", x)
33,333.333
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc7c4098" class="outline-3">
<h3 id="orgc7c4098"><span class="section-number-3">2.4</span> 数组的操作</h3>
<div class="outline-text-3" id="text-2-4">
<p>
不知道为什么，总是记不住 Java 的数组定义方式，这里记一下 Java 中数组定义方式
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">class</span> <span style="color: #268bd2;">App73</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">public</span> <span style="color: #859900;">static</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">main</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">args</span><span style="color: #9564bf;">[]</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">int array</span>
    <span style="color: #268bd2;">int</span><span style="color: #9564bf;">[]</span> <span style="color: #6c71c4;">arr</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">int</span><span style="color: #9564bf;">[</span>10<span style="color: #9564bf;">]</span>; <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; elements are initialezd to 0</span>
    System.out.println<span style="color: #9564bf;">(</span>arr<span style="color: #24a222;">[</span>3<span style="color: #24a222;">]</span><span style="color: #9564bf;">)</span>;
    System.out.println<span style="color: #9564bf;">(</span>arr.length<span style="color: #9564bf;">)</span>;

    <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">String array</span>
    <span style="color: #268bd2;">String</span><span style="color: #9564bf;">[]</span> <span style="color: #6c71c4;">sarr</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">String</span><span style="color: #9564bf;">[</span>3<span style="color: #9564bf;">]</span>;
    sarr<span style="color: #9564bf;">[</span>0<span style="color: #9564bf;">]</span> = <span style="color: #2aa198;">"Hello"</span>;
    sarr<span style="color: #9564bf;">[</span>1<span style="color: #9564bf;">]</span> = <span style="color: #2aa198;">"Man"</span>;
    sarr<span style="color: #9564bf;">[</span>2<span style="color: #9564bf;">]</span> = <span style="color: #2aa198;">"Welcome to Java world"</span>;

    <span style="color: #859900;">for</span> <span style="color: #9564bf;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">w</span>: sarr<span style="color: #9564bf;">)</span> <span style="color: #9564bf;">{</span> System.out.println<span style="color: #24a222;">(</span>w<span style="color: #24a222;">)</span>; <span style="color: #9564bf;">}</span>
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>

<p>
初始化数组的数据
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">class</span> <span style="color: #268bd2;">App341</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">public</span> <span style="color: #859900;">static</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">main</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">args</span><span style="color: #9564bf;">[]</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #268bd2;">int</span><span style="color: #9564bf;">[]</span> <span style="color: #6c71c4;">primes</span> = <span style="color: #9564bf;">{</span>2, 3, 5, 7<span style="color: #9564bf;">}</span>;
    <span style="color: #268bd2;">int</span><span style="color: #9564bf;">[]</span> <span style="color: #6c71c4;">primes</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">int</span><span style="color: #9564bf;">[]</span> <span style="color: #9564bf;">{</span>2, 3, 5, 7<span style="color: #9564bf;">}</span>;
    <span style="color: #268bd2;">int</span><span style="color: #9564bf;">[][]</span> <span style="color: #6c71c4;">magicSquare</span> = <span style="color: #9564bf;">{</span>
      <span style="color: #24a222;">{</span>1, 2, 3, 4<span style="color: #24a222;">}</span>,
      <span style="color: #24a222;">{</span>1, 0, 3, 9<span style="color: #24a222;">}</span>,
      <span style="color: #24a222;">{</span>1, 0, 3, 9<span style="color: #24a222;">}</span>,
      <span style="color: #24a222;">{</span>1, 0, 3, 9<span style="color: #24a222;">}</span>
    <span style="color: #9564bf;">}</span>;
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>

<p>
Java 数组默认时引用，如果需要复制可以调用 <code>Arrays.copyOf(...)</code> 方法
</p>
<div class="org-src-container">
<pre class="src src-text">java&gt; x = new int[] {1,2,3}
int[] x = [1, 2, 3]
java&gt; y = new int[] {1,2,3}
int[] y = [1, 2, 3]
java&gt; z1 = x
int[] z1 = [1, 2, 3]
java&gt; y.length
java.lang.Integer res24 = 3
java&gt; z2 = Arrays.copyOf(y, y.length)
int[] z2 = [1, 2, 3]
java&gt; z1[0] = 9
java.lang.Integer res25 = 9
java&gt; z2[0] = 9
java.lang.Integer res26 = 9
java&gt; x
int[] x = [9, 2, 3]
java&gt; y
int[] y = [1, 2, 3]
java&gt;
</pre>
</div>

<p>
排序数组
</p>
<div class="org-src-container">
<pre class="src src-text">java&gt; x
int[] x = [9, 2, 3]
java&gt; Arrays.sort(x)

java&gt; x
int[] x = [2, 3, 9]
</pre>
</div>
</div>
</div>

<div id="outline-container-org40d81a6" class="outline-3">
<h3 id="org40d81a6"><span class="section-number-3">2.5</span> 静态变量和实例变量</h3>
<div class="outline-text-3" id="text-2-5">
<ul class="org-ul">
<li>在语法定义上的区别：静态变量前要加 <code>static</code> 关键字，而实例变量前则不加。</li>
<li>在程序运行时的区别：实例变量属于某个对象的属性，必须创建了实例对象，其中的
实例变量才会被分配空间，才能使用这个实例变量。静态变量不属于某个实例对象，
而是属于类，所以也称为类变量，只要程序加载了类的字节码，不用创建任何实例对
象，静态变量就会被分配空间，静态变量就可以被使用了。总之，实例变量必须创建
对象后才可以通过这个对象来使用，静态变量则可以直接使用类名来引用。</li>
</ul>

<p>
静态变量在 Java 中是属于类的，它在所有的实例中的值是一样的。当类被 Java 虚拟
机载入的时候，会对静态变量进行初始化。如果你的代码尝试不用实例来访问非静态的
变量，编译器会报错，因为这些变量还没有被创建出来，还没有跟任何实例关联上。
</p>
</div>
</div>

<div id="outline-container-org9320dfa" class="outline-3">
<h3 id="org9320dfa"><span class="section-number-3">2.6</span> <code>final</code> 关键字</h3>
<div class="outline-text-3" id="text-2-6">
<ul class="org-ul">
<li>修饰类：表示该类不能被继承</li>
<li>修饰方法：表示方法不能被覆盖</li>
<li>修饰变量：表示变量只能一次赋值以后值不能被修改（常量）</li>
</ul>
</div>
</div>

<div id="outline-container-orga89277c" class="outline-3">
<h3 id="orga89277c"><span class="section-number-3">2.7</span> equals 与 <code>==</code> 的区别</h3>
<div class="outline-text-3" id="text-2-7">
<p>
<code>==</code> 是一个运算符。 equals 则是 String 对象的方法，可以.（点）出来。 我们比较
无非就是这两种:
</p>
<ol class="org-ol">
<li>基本数据类型比较 <code>==</code> 比较两个值是否相等。相等为 true 否则为 false；equals
不能直接用于基本类型的比较。需要将基本类型转换为包装器进行比较。</li>
<li>引用对象比较 <code>==</code> 和 equals 都是比较栈内存中的地址是否相等 。相等为 true
否则为 false。 需注意几点：
<ul class="org-ul">
<li>String 是一个特殊的引用类型。对于两个字符串的比较，不管是 <code>==</code> 和 equals
这两者比较的都是字符串是否相同</li>
<li>当你创建两个 String 对象时，内存中的地址是不相同的，你可以赋相同的值。所
以字符串的内容相同。引用地址不一定相同，（相同内容的对象地址不一定相同），
但反过来却是肯定的</li>
<li>基本数据类型比较 (String 除外) <code>==</code> 和 equals 两者都是比较值</li>
</ul></li>
</ol>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">class</span> <span style="color: #268bd2;">App198</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">public</span> <span style="color: #859900;">static</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">main</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">args</span><span style="color: #9564bf;">[]</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">s1</span> = <span style="color: #2aa198;">"Hello"</span>;
    <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">s2</span> = <span style="color: #2aa198;">"Hello"</span>;
    <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">s3</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">String</span><span style="color: #9564bf;">(</span><span style="color: #2aa198;">"Hello"</span><span style="color: #9564bf;">)</span>;
    <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">s4</span> = <span style="color: #2aa198;">"Hel"</span> + <span style="color: #2aa198;">"lo"</span>;          <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">String is immutable, it will compiles to "Hello"</span>
    System.out.println<span style="color: #9564bf;">(</span>s1 == s2<span style="color: #9564bf;">)</span>;      <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; true</span>
    System.out.println<span style="color: #9564bf;">(</span>s1.equals<span style="color: #24a222;">(</span>s2<span style="color: #24a222;">)</span><span style="color: #9564bf;">)</span>; <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; ture</span>
    System.out.println<span style="color: #9564bf;">(</span>s1 == s3<span style="color: #9564bf;">)</span>;      <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; false</span>
    System.out.println<span style="color: #9564bf;">(</span>s1.equals<span style="color: #24a222;">(</span>s3<span style="color: #24a222;">)</span><span style="color: #9564bf;">)</span>; <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; ture</span>
    System.out.println<span style="color: #9564bf;">(</span>s1 == s4<span style="color: #9564bf;">)</span>;      <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; true</span>
    System.out.println<span style="color: #9564bf;">(</span>s1.equals<span style="color: #24a222;">(</span>s4<span style="color: #24a222;">)</span><span style="color: #9564bf;">)</span>; <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; true</span>
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7b345b4" class="outline-3">
<h3 id="org7b345b4"><span class="section-number-3">2.8</span> 序列化</h3>
<div class="outline-text-3" id="text-2-8">
<p>
序列化就是一种用来处理对象流的机制，所谓对象流也就是将对象的内容进行流化。可
以对流化后的对象进行读写操作，也可将流化后的对象传输于网络之间。序列化是为了
解决在对对象流进行读写操作时所引发的问题。
</p>

<p>
序列化的实现：将需要被序列化的类实现 <code>Serializable</code> 接口，该接口没有需要实现
的方法， <code>implements Serializable</code> 只是为了标注该对象是可被序列化的，然后使用
一个输出流 (如：FileOutputStream) 来构造一个 ObjectOutputStream(对象流) 对象，
接着，使用 ObjectOutputStream 对象的 <code>writeObject(Object obj)</code> 方法就可以将参
数为 obj 的对象写出(即保存其状态)，要恢复的话则用输入流。
</p>
</div>
</div>

<div id="outline-container-org09f199e" class="outline-3">
<h3 id="org09f199e"><span class="section-number-3">2.9</span> 错误和异常</h3>
<div class="outline-text-3" id="text-2-9">
<ul class="org-ul">
<li><code>java.lang.Error</code> : Throwable 的子类，用于标记严重错误，表示系统级的错误和
程序不必处理的异常。合理的应用程序不应该去 <code>try/catch</code> 这种错误。是恢复不是
不可能但很困难的情况下的一种严重问题；比如内存溢出，不可能指望程序能处理这
样的情况；</li>
<li><code>java.lang.Exception</code> : Throwable 的子类，表示需要捕捉或者需要程序进行处理
的异常，是一种设计或实现问题；也就是说，它表示如果程序运行正常，从不会发生
的情况。并且鼓励用户程序去 <code>catch</code> 它。</li>
</ul>

<p>
处理异常的一种方式是在类方法的定义中 <code>throws</code> 相应的异常
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">class</span> <span style="color: #268bd2;">App148</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">public</span> <span style="color: #859900;">static</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">main</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">args</span><span style="color: #9564bf;">[]</span><span style="color: #d8241f;">)</span> <span style="color: #859900;">throws</span> <span style="color: #268bd2;">MyException</span> <span style="color: #d8241f;">{</span>
    <span style="color: #268bd2;">MyException</span> <span style="color: #6c71c4;">myecpt</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">MyException</span><span style="color: #9564bf;">(</span><span style="color: #2aa198;">"Ops!"</span><span style="color: #9564bf;">)</span>;
    <span style="color: #859900;">throw</span> myexcpt;
    <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">System.out.println("Dead code");</span>
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>

<span style="color: #859900;">class</span> <span style="color: #268bd2;">MyException</span> <span style="color: #859900;">extends</span> <span style="color: #268bd2;">IOException</span> <span style="color: #8d5649;">{</span>
  <span style="color: #b58900;">MyException</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">message</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #859900;">super</span><span style="color: #9564bf;">(</span>message<span style="color: #9564bf;">)</span>;
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>

<p>
或者使用 <code>try/catch</code> 块来捕获异常进行处理
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">class</span> <span style="color: #268bd2;">App166</span> <span style="color: #8d5649;">{</span>

  <span style="color: #859900;">public</span> <span style="color: #859900;">static</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">main</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">args</span><span style="color: #9564bf;">[]</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #268bd2;">int</span> <span style="color: #6c71c4;">num1</span>, <span style="color: #6c71c4;">num2</span>;
    <span style="color: #859900;">try</span> <span style="color: #9564bf;">{</span>
      num1 = 0;
      num2 = 62 / num1;
      System.out.println<span style="color: #24a222;">(</span>num2<span style="color: #24a222;">)</span>;
      System.out.println<span style="color: #24a222;">(</span><span style="color: #2aa198;">"Hey I'm at the end of try block"</span><span style="color: #24a222;">)</span>;
    <span style="color: #9564bf;">}</span> <span style="color: #859900;">catch</span> <span style="color: #9564bf;">(</span><span style="color: #268bd2;">ArithmeticException</span> <span style="color: #6c71c4;">e</span><span style="color: #9564bf;">)</span> <span style="color: #9564bf;">{</span>
      System.out.println<span style="color: #24a222;">(</span><span style="color: #2aa198;">"You should not divide a number by zero"</span><span style="color: #24a222;">)</span>;
    <span style="color: #9564bf;">}</span> <span style="color: #859900;">catch</span> <span style="color: #9564bf;">(</span><span style="color: #268bd2;">Exception</span> <span style="color: #6c71c4;">e</span><span style="color: #9564bf;">)</span> <span style="color: #9564bf;">{</span>
      System.out.println<span style="color: #24a222;">(</span><span style="color: #2aa198;">"Exception occurred"</span><span style="color: #24a222;">)</span>;
    <span style="color: #9564bf;">}</span>
    System.out.println<span style="color: #9564bf;">(</span><span style="color: #2aa198;">"I'm out of try-catch block in Java."</span><span style="color: #9564bf;">)</span>;
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>

<p>
<b>Error 和 RuntimeException 及其子类都是未检查的异常</b> （unchecked exceptions），
而所有其他的 Exception 类都是检查了的异常（checked exceptions）
</p>

<ul class="org-ul">
<li>checked exceptions: 上下文环境有关，即使程序设计无误，仍然可能因使用的问题
而引发．通常是从一个可以恢复的程序中抛出来的，并且最好能够从这种异常中使用
程序恢复。比如 FileNotFoundException, ParseException 等。检查了的异常发生在
编译阶段，必须要使用 <code>try/catch</code> （或者 <code>throws</code> ）否则编译不通过。
<ul class="org-ul">
<li>ClassNotFoundException</li>
<li>IOException</li>
<li>FileNotFoundException</li>
</ul></li>
<li>unchecked exceptions: 通常是如果一切正常的话本不该发生的异常，但是的确发生
了。 发生在运行期，具有不确定性，主要是由于程序的逻辑问题所引起的。比如
ArrayIndexOutOfBoundException, ClassCastException 等。从语言本身的角度讲，
程序不该去 catch 这类异常，虽然能够从诸如 RuntimeException 这样的异常中
catch 并恢复，但是并不鼓励终端程序员这么做，因为完全没要必要。因为这类错误
本身就是 bug，应该被修复，出现此类错误时程序就应该立即停止执行。 因此，面对
Errors 和 unchecked exceptions 应该让程序自动终止执行，程序员不该做诸如
<code>try/catch</code> 这样的事情，而是应该查明原因，修改代码逻辑。
<ul class="org-ul">
<li>NullPointerException</li>
<li>ArrayIndexOutOfBoundException</li>
<li>IllegalArgumentException</li>
<li>OutOfMemoryError</li>
</ul></li>
</ul>

<p>
RuntimeException：RuntimeException 体系包括错误的类型转换、数组越界访问和试图
访问空指针等等。处理 RuntimeException 的原则是：如果出现 RuntimeException，那
么一定是程序员的错误。例如，可以通过检查数组下标和数组边界来避免数组越界访问
异常。其他（IOException 等等）checked 异常一般是外部错误，例如试图从文件尾后
读取数据等，这并不是程序本身的错误，而是在应用环境中出现的外部错误。
</p>

<p>
《Effective Java》 中对于异常处理总结如下：
</p>
<ul class="org-ul">
<li>不要将异常处理用于正常的控制流（设计良好的 API 不应该强迫它的调用者为了正常的
控制流而使用异常）</li>
<li>对可以恢复的情况使用受检异常，对编程错误使用运行时异常</li>
<li>避免不必要的使用受检异常（可以通过一些状态检测手段来避免异常的发生）</li>
<li>优先使用标准的异常</li>
<li>每个方法抛出的异常都要有文档</li>
<li>保持异常的原子性</li>
<li>不要在 catch 中忽略掉捕获到的异常</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org7d9df0f" class="outline-2">
<h2 id="org7d9df0f"><span class="section-number-2">3</span> 面向对象</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgcfd17ef" class="outline-3">
<h3 id="orgcfd17ef"><span class="section-number-3">3.1</span> 对象初始化和消亡</h3>
<div class="outline-text-3" id="text-3-1">
<p>
一般类的初始化工具有以下几种方式：
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">import</span> <span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">util</span>.<span style="color: #268bd2;">Random</span>;

<span style="color: #859900;">class</span> <span style="color: #268bd2;">Employee</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">private</span> <span style="color: #859900;">static</span> <span style="color: #268bd2;">int</span> <span style="color: #6c71c4;">nextId</span>;

  <span style="color: #859900;">private</span> <span style="color: #268bd2;">int</span> <span style="color: #6c71c4;">id</span>;
  <span style="color: #859900;">private</span> <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">name</span>;
  <span style="color: #859900;">private</span> <span style="color: #268bd2;">double</span> <span style="color: #6c71c4;">salary</span>;

  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">&#38745;&#24577;&#21021;&#22987;&#21270;&#22359;: &#21021;&#22987;&#21270;&#38745;&#24577;&#21464;&#37327;</span>
  <span style="color: #859900;">static</span> <span style="color: #d8241f;">{</span>
    System.out.println<span style="color: #9564bf;">(</span><span style="color: #2aa198;">"Static Initialezation Block"</span><span style="color: #9564bf;">)</span>;
    <span style="color: #268bd2;">Random</span> <span style="color: #6c71c4;">gen</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Random</span><span style="color: #9564bf;">()</span>;
    nextId = gen.nextInt<span style="color: #9564bf;">(</span>1000<span style="color: #9564bf;">)</span>;
  <span style="color: #d8241f;">}</span>

  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">&#23545;&#35937;&#21021;&#22987;&#21270;&#22359;: &#24403;&#23545;&#35937;&#23454;&#20363;&#21270;&#26102;&#35843;&#29992;</span>
  <span style="color: #d8241f;">{</span>
    System.out.println<span style="color: #9564bf;">(</span><span style="color: #2aa198;">"Object Initialezation Block"</span><span style="color: #9564bf;">)</span>;
    id = nextId;
    nextId++;
  <span style="color: #d8241f;">}</span>

  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">&#40664;&#35748;&#26500;&#36896;&#22120;</span>
  <span style="color: #859900;">public</span> <span style="color: #b58900;">Employee</span><span style="color: #d8241f;">()</span> <span style="color: #d8241f;">{</span>
    System.out.println<span style="color: #9564bf;">(</span><span style="color: #2aa198;">"Default Constructor"</span><span style="color: #9564bf;">)</span>;
  <span style="color: #d8241f;">}</span>

  <span style="color: #859900;">public</span> <span style="color: #859900;">static</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">main</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span><span style="color: #9564bf;">[]</span> <span style="color: #6c71c4;">args</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #268bd2;">Employee</span> <span style="color: #6c71c4;">e1</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Employee</span><span style="color: #9564bf;">()</span>;
    <span style="color: #268bd2;">Employee</span> <span style="color: #6c71c4;">e2</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Employee</span><span style="color: #9564bf;">()</span>;
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>

<p>
由下面运行结果可以得知，静态初始化块只在类第一次实例化才调用一次，对象初始化
块每次对象实例化都调用一次，并且是中构造器调用前调用
</p>
<div class="org-src-container">
<pre class="src src-text">$ java Employee
Static Initialezation Block
Object Initialezation Block
Default Constructor
Object Initialezation Block
Default Constructor
</pre>
</div>

<p>
Java 有自己的垃圾回收机制 (GC)，一般 <code>finalize()</code> 只会在对象内存回收前被调用
一次，所以我们不需要显示让对象消亡，而是让 GC 来自动处理对象的析构，并且当需
要阻止对象消亡时，就需要显示将保护的对象通过 <code>finalize()</code> 挂载到 GCRoot 上
</p>
</div>
</div>
<div id="outline-container-orgc60777a" class="outline-3">
<h3 id="orgc60777a"><span class="section-number-3">3.2</span> 面向对象的特征</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-org42fc95a" class="outline-4">
<h4 id="org42fc95a"><span class="section-number-4">3.2.1</span> 继承</h4>
<div class="outline-text-4" id="text-3-2-1">
<ul class="org-ul">
<li>概念：继承是从已有的类中派生出新的类，新的类能吸收已有类的数据属性和行为，
并能扩展新的能力</li>
<li>好处：提高代码的复用，缩短开发周期</li>
</ul>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">class</span> <span style="color: #268bd2;">Employee</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">private</span> <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">name</span>;
  <span style="color: #859900;">private</span> <span style="color: #268bd2;">double</span> <span style="color: #6c71c4;">salary</span>;

  <span style="color: #859900;">public</span> <span style="color: #b58900;">getName</span><span style="color: #d8241f;">()</span> <span style="color: #d8241f;">{</span> <span style="color: #d8241f;">}</span>
  <span style="color: #859900;">public</span> <span style="color: #b58900;">getSalary</span><span style="color: #d8241f;">()</span> <span style="color: #d8241f;">{</span> <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>

<span style="color: #859900;">class</span> <span style="color: #268bd2;">Manager</span> <span style="color: #859900;">extends</span> <span style="color: #268bd2;">Employee</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">private</span> <span style="color: #268bd2;">double</span> <span style="color: #6c71c4;">bonus</span>;

  <span style="color: #859900;">public</span> <span style="color: #b58900;">getSalary</span><span style="color: #d8241f;">()</span> <span style="color: #d8241f;">{</span> <span style="color: #d8241f;">}</span>
  <span style="color: #859900;">public</span> <span style="color: #b58900;">setBonus</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">double</span> <span style="color: #6c71c4;">bonus</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span> <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>
<ul class="org-ul">
<li>final 类不允许继承，final 方法不允许 Override</li>
</ul>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">final</span> <span style="color: #859900;">class</span> <span style="color: #268bd2;">Executive</span> <span style="color: #859900;">extends</span> <span style="color: #268bd2;">Manager</span> <span style="color: #8d5649;">{</span>
  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">...</span>
<span style="color: #8d5649;">}</span>

<span style="color: #859900;">class</span> <span style="color: #268bd2;">Employee</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">private</span> <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">name</span>;
  <span style="color: #859900;">public</span> <span style="color: #859900;">final</span> <span style="color: #268bd2;">String</span> <span style="color: #b58900;">getName</span><span style="color: #d8241f;">()</span> <span style="color: #d8241f;">{</span> <span style="color: #859900;">return</span> <span style="color: #859900;">this</span>.name; <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4821d1d" class="outline-4">
<h4 id="org4821d1d"><span class="section-number-4">3.2.2</span> 多态</h4>
<div class="outline-text-4" id="text-3-2-2">
<ul class="org-ul">
<li>概念：多态（Polymorphism）按字面的意思就是“多种状态，即同一个实体同时具有
多种形式"。一般表现形式是程序在运行的过程中，同一种类型在不同的条件下表现
不同的结果。多态也称为动态绑定，一般是在运行时刻才能确定方法的具体执行对象，
这个过程也称为动态委派</li>
<li>好处：
<ul class="org-ul">
<li>将接口和实现分开，改善代码的组织结构和可读性，还能创建可拓展的程序</li>
<li>消除类型之间的耦合关系。允许将多个类型视为同一个类型</li>
<li>一个多态方法的调用允许有多种表现形式</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #268bd2;">Employee</span> <span style="color: #6c71c4;">e</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Employee</span><span style="color: #8d5649;">()</span>;
e.getName<span style="color: #8d5649;">()</span>;   <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; Employee.getName()</span>
e.getSalary<span style="color: #8d5649;">()</span>; <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; Employee.getSalary()</span>

<span style="color: #268bd2;">Manager</span> <span style="color: #6c71c4;">m</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Manager</span><span style="color: #8d5649;">()</span>;
m.getName<span style="color: #8d5649;">()</span>;        <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; Employee.getName()</span>
m.getSalary<span style="color: #8d5649;">()</span>;      <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; Manager.getSalary()</span>
m.setBonus<span style="color: #8d5649;">(</span>1000.0<span style="color: #8d5649;">)</span>; <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">Manager.setBonus(...)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org06b5145" class="outline-4">
<h4 id="org06b5145"><span class="section-number-4">3.2.3</span> 封装</h4>
<div class="outline-text-4" id="text-3-2-3">
<ul class="org-ul">
<li>概念：就是把对象的属性和行为（或服务）结合为一个独立的整体，并尽可能隐藏对
象的内部实现细节</li>
<li>好处：
<ul class="org-ul">
<li>隐藏信息，实现细节。让客户端程序员无法触及他们不应该触及的部分</li>
<li>允许可设计者可以改变类内部的工作方式而不用担心会影响到客户端程序员</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org66092dd" class="outline-3">
<h3 id="org66092dd"><span class="section-number-3">3.3</span> Overload 和 Override</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Overload 是 <b>重载</b> 的意思，Override 是 <b>覆盖</b> 的意思，也就是 <b>重写</b>
</p>


<div class="figure">
<p><img src="../static/image/2019/07/overload-override.png" alt="overload-override.png" />
</p>
</div>

<ul class="org-ul">
<li>Overload 表示同一个类中可以有多个名称相同的方法，但这些方法的参数列表各不相
同
<ul class="org-ul">
<li>Overload 的参数列表不同包括：参数类型不同，参数个数不同</li>
<li>Overload 不能重载函数返回值，即方法名称、参数个数和参数类型相同的方法被视
为同一个重载方法</li>
<li>Overload 也不能覆盖访问权限、抛出的异常。方法的异常类型和数目不会对覆盖造
成影响</li>
</ul></li>
<li>Override 表示子类中的方法可以与父类中的某个方法的名称和参数完全相同，通过子
类创建的实例对象调用这个方法时，将调用子类中的定义方法，这相当于把父类中定
义的那个完全相同的方法给覆盖了
<ul class="org-ul">
<li>Override 可以用于接口实现类中实现接口类中的方法</li>
<li>Override 可以在子类中实现父类的方法，相当于子类中的方法覆盖了父类中的方法，
是一种实现多态的重要途径</li>
<li>Override 覆盖父类方法时，子类只能抛出比父类更少的异常。或者是抛出父类抛出
的异常的子异常</li>
<li>Override 不能覆盖父类中的 private 方法</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">class</span> <span style="color: #268bd2;">Employee</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">private</span> <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">firstname</span>;
  <span style="color: #859900;">private</span> <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">lastname</span>;

  <span style="color: #859900;">public</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">setName</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">firstname</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #859900;">this</span>.firstname = firstname;
    <span style="color: #859900;">this</span>.lastname = <span style="color: #268bd2;">null</span>;
  <span style="color: #d8241f;">}</span>

  <span style="color: #859900;">public</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">setName</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">firstname</span>, <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">lastname</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #859900;">this</span>.firstname = firstname;
    <span style="color: #859900;">this</span>.lastname = lastname;
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>

<span style="color: #859900;">class</span> <span style="color: #268bd2;">Teacher</span> <span style="color: #859900;">extends</span> <span style="color: #268bd2;">Employee</span> <span style="color: #8d5649;">{</span>

  <span style="color: #859900;">private</span> <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">fullname</span>;

  <span style="color: #268bd2;">@Override</span>
  <span style="color: #859900;">public</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">setName</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">firstname</span>, <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">lastname</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #859900;">this</span>.firstname = firstname;
    <span style="color: #859900;">this</span>.lastname = lastname;
    <span style="color: #859900;">this</span>.fullname = firstname + <span style="color: #2aa198;">" "</span> + lastname;
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3011744" class="outline-3">
<h3 id="org3011744"><span class="section-number-3">3.4</span> 接口和抽象类</h3>
<div class="outline-text-3" id="text-3-4">
</div>
<div id="outline-container-org01fc2e4" class="outline-4">
<h4 id="org01fc2e4"><span class="section-number-4">3.4.1</span> 接口</h4>
<div class="outline-text-4" id="text-3-4-1">
<ul class="org-ul">
<li>接口用于描述系统对外提供的所有服务， 因此 <b>接口中的成员常量和方法都必须是
公开</b> ( public) 类型的，确保外部使用者能访问它们</li>
<li>接口仅仅描述系统能做什么,但不指明如何去做,所以 <b>接口中的方法都是抽象</b>
(abstract) 方法</li>
<li>接口不涉及和任何具体实例相关的细节, 因此 <b>接口没有构造方法</b> ，不能被实例化，
没有实例变量，只有静态（static）变量；</li>
<li>接口的中的变量是所有实现类共有的，既然共有，肯定是不变的东西，因为变化的东
西也不能够算共有。所以 <b>变量是不可变 (final)类型，也就是常量了</b></li>
</ul>

<p>
接口中不可以定义变量即只能定义常量(加上 final 修饰就会变成常量)。所以接口的
属性默认是 <code>public static final</code> 常量，且必须赋初值。 注意：final 和
abstract 不能同时出现。接口中的方法默认是 <code>public abstract</code>
</p>

<p>
接口的定义使用 <code>interface</code> 关键字
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">public</span> <span style="color: #859900;">interface</span> <span style="color: #268bd2;">HelloInterface</span> <span style="color: #8d5649;">{</span>

<span style="color: #8d5649;">}</span>
</pre>
</div>

<p>
实现接口使用 <code>implements</code> 关键字
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">public</span> <span style="color: #859900;">class</span> <span style="color: #268bd2;">HelloInterfaceImpl</span> <span style="color: #859900;">implements</span> <span style="color: #268bd2;">HelloInterface</span> <span style="color: #8d5649;">{</span>

<span style="color: #8d5649;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8321271" class="outline-4">
<h4 id="org8321271"><span class="section-number-4">3.4.2</span> 抽象类</h4>
<div class="outline-text-4" id="text-3-4-2">
<p>
在面向对象的概念中，所有的对象都是通过类来描绘的，但是反过来，并不是所有的类
都是用来描绘对象的，如果一个类中没有包含足够的信息来描绘一个具体的对象，这样
的类就是抽象类。 抽象类和接口很像，他们之间的一些关键区别如下：
</p>
<ul class="org-ul">
<li>接口中所有的方法隐含的都是抽象的。而抽象类则可以同时包含抽象和非抽象的方法</li>
<li>类可以实现很多个接口，但是只能继承一个抽象类</li>
<li>类如果要实现一个接口，它必须要实现接口声明的所有方法。但是，类可以不实现抽
象类声明的所有方法，当然，在这种情况下，类也必须得声明成是抽象的。</li>
<li>抽象类可以在不提供接口方法实现的情况下实现接口</li>
<li>Java 接口中声明的变量默认都是 final 的。抽象类可以包含非 final 的变量。</li>
<li>Java 接口中的成员函数默认是 public 的。抽象类的成员函数可以是 private
protected 或者是 public</li>
<li>接口是绝对抽象的，不可以被实例化。抽象类也不可以被实例化，但是，如果它包含
main 方法的话是可以被调用的</li>
</ul>

<p>
抽象类的定义如下：
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">public</span> <span style="color: #859900;">abstract</span> <span style="color: #859900;">class</span> <span style="color: #268bd2;">Employee</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">private</span> <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">name</span>;
  <span style="color: #859900;">private</span> <span style="color: #268bd2;">int</span> <span style="color: #6c71c4;">number</span>;

  <span style="color: #859900;">public</span> <span style="color: #859900;">abstract</span> <span style="color: #268bd2;">double</span> <span style="color: #b58900;">computePay</span><span style="color: #d8241f;">()</span>;
<span style="color: #8d5649;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7bd4b52" class="outline-3">
<h3 id="org7bd4b52"><span class="section-number-3">3.5</span> 泛型</h3>
<div class="outline-text-3" id="text-3-5">
<p>
泛型在实际工作中使用的非常频繁，可以很大程度上减少对不同类型的重复操作的代码。
</p>
</div>

<div id="outline-container-orgbfa4dc2" class="outline-4">
<h4 id="orgbfa4dc2"><span class="section-number-4">3.5.1</span> 类和接口的泛型</h4>
<div class="outline-text-4" id="text-3-5-1">
<p>
类的泛型定义，之间在类名称后添加尖括号来表示
</p>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">public</span> <span style="color: #859900;">class</span> <span style="color: #268bd2;">GenericClassOneType</span><span style="color: #8d5649;">&lt;</span><span style="color: #268bd2;">T</span><span style="color: #8d5649;">&gt;</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">public</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">performAction</span><span style="color: #d8241f;">(</span><span style="color: #859900;">final</span> <span style="color: #268bd2;">T</span> <span style="color: #6c71c4;">action</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">coding</span>
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org721ee99" class="outline-4">
<h4 id="org721ee99"><span class="section-number-4">3.5.2</span> 方法的泛型</h4>
<div class="outline-text-4" id="text-3-5-2">
<p>
方法的泛型定义在 <code>public</code>, <code>abstract</code>, <code>static</code> 等关键字后面，例如：
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">public</span><span style="color: #8d5649;">&lt;</span><span style="color: #268bd2;">T</span>, <span style="color: #268bd2;">R</span><span style="color: #8d5649;">&gt;</span> <span style="color: #268bd2;">R</span> <span style="color: #b58900;">performAction</span><span style="color: #8d5649;">(</span><span style="color: #859900;">final</span> <span style="color: #268bd2;">T</span> <span style="color: #6c71c4;">action</span><span style="color: #8d5649;">)</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">final</span> <span style="color: #268bd2;">R</span> <span style="color: #6c71c4;">result</span> = <span style="color: #268bd2;">null</span>;
  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">coding</span>
  <span style="color: #859900;">return</span> result;
<span style="color: #8d5649;">}</span>

<span style="color: #859900;">protected</span> <span style="color: #859900;">static</span><span style="color: #8d5649;">&lt;</span><span style="color: #268bd2;">T</span>, <span style="color: #268bd2;">R</span><span style="color: #8d5649;">&gt;</span> <span style="color: #268bd2;">R</span> <span style="color: #b58900;">performAction2</span><span style="color: #8d5649;">(</span><span style="color: #859900;">final</span> <span style="color: #268bd2;">T</span> <span style="color: #6c71c4;">action</span><span style="color: #8d5649;">)</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">final</span> <span style="color: #268bd2;">R</span> <span style="color: #6c71c4;">result2</span> = <span style="color: #268bd2;">null</span>;
  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">coding</span>
  <span style="color: #859900;">return</span> result2;
<span style="color: #8d5649;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6b930d4" class="outline-4">
<h4 id="org6b930d4"><span class="section-number-4">3.5.3</span> 泛型中使用 extends 和 super 关键字</h4>
<div class="outline-text-4" id="text-3-5-3">
<p>
在泛型中可以使用对类型的基础关系
</p>

<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">public</span> <span style="color: #8d5649;">&lt;</span><span style="color: #268bd2;">T</span> <span style="color: #859900;">extends</span> <span style="color: #268bd2;">InputStream</span><span style="color: #8d5649;">&gt;</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">read</span><span style="color: #8d5649;">(</span><span style="color: #859900;">final</span> <span style="color: #268bd2;">T</span> <span style="color: #6c71c4;">stream</span><span style="color: #8d5649;">)</span> <span style="color: #8d5649;">{</span> <span style="color: #8d5649;">}</span>
<span style="color: #859900;">public</span> <span style="color: #8d5649;">&lt;</span><span style="color: #268bd2;">T</span> <span style="color: #859900;">extends</span> <span style="color: #268bd2;">Serializable</span><span style="color: #8d5649;">&gt;</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">store</span><span style="color: #8d5649;">(</span><span style="color: #859900;">final</span> <span style="color: #268bd2;">T</span> <span style="color: #6c71c4;">object</span><span style="color: #8d5649;">)</span> <span style="color: #8d5649;">{</span> <span style="color: #8d5649;">}</span>

<span style="color: #859900;">public</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">interate</span><span style="color: #8d5649;">(</span><span style="color: #859900;">final</span> <span style="color: #268bd2;">Collection</span><span style="color: #d8241f;">&lt;</span> ? <span style="color: #859900;">super</span> <span style="color: #268bd2;">Integer</span><span style="color: #d8241f;">&gt;</span> <span style="color: #6c71c4;">objects</span><span style="color: #8d5649;">)</span> <span style="color: #8d5649;">{</span> <span style="color: #8d5649;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org209aa8d" class="outline-4">
<h4 id="org209aa8d"><span class="section-number-4">3.5.4</span> 泛型的注意点</h4>
<div class="outline-text-4" id="text-3-5-4">
<ul class="org-ul">
<li>Java 中泛型必须是对象，像 <code>int</code>, <code>long</code>, <code>double</code> 等是不可以定义到泛型中，
需要使用对应的适配类</li>
<li><p>
泛型只是在编译是才存在，编译完成后就没有泛型的留在字节码中。所以对应使用泛
型作为传参的其实是一个方法，例如：
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #268bd2;">void</span> <span style="color: #b58900;">sort</span><span style="color: #8d5649;">(</span><span style="color: #268bd2;">Collection</span><span style="color: #d8241f;">&lt;</span><span style="color: #268bd2;">String</span><span style="color: #d8241f;">&gt;</span> <span style="color: #6c71c4;">strings</span><span style="color: #8d5649;">)</span> <span style="color: #8d5649;">{</span> <span style="color: #8d5649;">}</span>
<span style="color: #268bd2;">void</span> <span style="color: #b58900;">sort</span><span style="color: #8d5649;">(</span><span style="color: #268bd2;">Collection</span><span style="color: #d8241f;">&lt;</span><span style="color: #268bd2;">Number</span><span style="color: #d8241f;">&gt;</span> <span style="color: #6c71c4;">strings</span><span style="color: #8d5649;">)</span> <span style="color: #8d5649;">{</span> <span style="color: #8d5649;">}</span>
</pre>
</div>
<p>
在编译成字节码后其实是一个方法
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #268bd2;">void</span> <span style="color: #b58900;">sort</span><span style="color: #8d5649;">(</span><span style="color: #268bd2;">Collection</span> <span style="color: #6c71c4;">arg1</span><span style="color: #8d5649;">)</span> <span style="color: #8d5649;">{</span> <span style="color: #8d5649;">}</span>
</pre>
</div></li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-org9f88d48" class="outline-2">
<h2 id="org9f88d48"><span class="section-number-2">4</span> 参考代码片段</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgc0d96bf" class="outline-3">
<h3 id="orgc0d96bf"><span class="section-number-3">4.1</span> List 和数组互转</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">
<pre class="src src-java"><span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">List &#36716; Array</span>
<span style="color: #268bd2;">List</span><span style="color: #8d5649;">&lt;</span><span style="color: #268bd2;">Employee</span><span style="color: #8d5649;">&gt;</span> <span style="color: #6c71c4;">list</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">ArrayList</span><span style="color: #8d5649;">&lt;&gt;()</span>;
<span style="color: #859900;">while</span> <span style="color: #8d5649;">(</span>...<span style="color: #8d5649;">)</span> <span style="color: #8d5649;">{</span>
  x = ...;
  list.add<span style="color: #d8241f;">(</span>x<span style="color: #d8241f;">)</span>;
<span style="color: #8d5649;">}</span>

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">Array &#36716; List</span>
<span style="color: #268bd2;">Employee</span><span style="color: #8d5649;">[]</span> <span style="color: #6c71c4;">arr</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Employee</span><span style="color: #8d5649;">[</span>list.size<span style="color: #d8241f;">()</span><span style="color: #8d5649;">]</span>;
list.toArray<span style="color: #8d5649;">(</span>arr<span style="color: #8d5649;">)</span>;
</pre>
</div>

<p>
注意 <code>Arrays.asList(...)</code> 将数组转 List 时需要传对象。
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #268bd2;">Integer</span><span style="color: #8d5649;">[]</span> <span style="color: #6c71c4;">primes1</span> = <span style="color: #8d5649;">{</span>2,3,5<span style="color: #8d5649;">}</span>;
<span style="color: #268bd2;">List</span> <span style="color: #6c71c4;">list1</span> = Arrays.asList<span style="color: #8d5649;">(</span>primes1<span style="color: #8d5649;">)</span>;
list1.size<span style="color: #8d5649;">()</span>;

<span style="color: #268bd2;">int</span><span style="color: #8d5649;">[]</span> <span style="color: #6c71c4;">primes2</span> = <span style="color: #8d5649;">{</span>2,3,5<span style="color: #8d5649;">}</span>;
<span style="color: #268bd2;">List</span> <span style="color: #6c71c4;">list2</span> = Arrays.asList<span style="color: #8d5649;">(</span>primes2<span style="color: #8d5649;">)</span>;
list2.size<span style="color: #8d5649;">()</span>;
</pre>
</div>

<p>
在 <code>Arrays.asList(...)</code> 中，该方法接受一个变长参数，一般可看做数组参数，但是
因为 <code>int[]</code> 本身就是一个类型，所以 primes2 变量作为参数传递时，编译器认为只
传了一个变量，这个变量的类型是 int 数组
</p>
<div class="org-src-container">
<pre class="src src-text">java&gt; Integer[] primes1 = {2,3,5};
java.lang.Integer[] primes1 = [2, 3, 5]
java&gt; List list1 = Arrays.asList(primes1);
java.util.List list1 = [2, 3, 5]
java&gt; list1.size();
java.lang.Integer res7 = 3
java&gt; int[] primes2 = {2,3,5};
int[] primes2 = [2, 3, 5]
java&gt; List list2 = Arrays.asList(primes2);
java.util.List list2 = [[I@4ed8ff]
java&gt; list2.size();
java.lang.Integer res10 = 1
java&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-org12ba697" class="outline-3">
<h3 id="org12ba697"><span class="section-number-3">4.2</span> <code>assert</code> 断言</h3>
<div class="outline-text-3" id="text-4-2">
<p>
assertion (断言) 在软件开发中是一种常用的调试方式，很多开发语言中都支持这种机
制。一般来说，assertion 用于保证程序最基本、关键的正确性。assertion 检查通常
在开发和测试时开启。为了提高性能，在软件发布后， assertion 检查通常是关闭的。
在实现中，断言是一个包含布尔表达式的语句，在执行这个语句时假定该表达式为 true；
如果表达式计算为 <code>false</code>, 那么系统会报告一个 AssertionError。
</p>

<p>
断言用于调试目的：
</p>
<div class="org-src-container">
<pre class="src src-java">assert<span style="color: #8d5649;">(</span>a &gt; 0<span style="color: #8d5649;">)</span>; <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">throws an AssertionError if a &lt;= 0</span>
</pre>
</div>

<p>
断言可以有两种形式：
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #268bd2;">assert</span> <span style="color: #6c71c4;">Expression1</span>;
<span style="color: #268bd2;">assert</span> <span style="color: #6c71c4;">Expression1</span> : Expression2;
</pre>
</div>

<p>
Expression1 应该总是产生一个布尔值。 Expression2 可以是得出一个值的任意表达式；
这个值用于生成显示更多调试信息的字符串消息 断言在默认情况下是禁用的，要在编译
时启用断言，需使用 source 1.4 标记：
</p>

<div class="org-src-container">
<pre class="src src-sh">javac -source 1.4 Test.java
</pre>
</div>

<p>
要在运行时启用断言需要开启允许断言的选项：
</p>
<ul class="org-ul">
<li><code>-ea</code> 或者 <code>-enableassertions</code> : 启用断言</li>
<li><code>-da</code> 或者 <code>-disableassertions</code> : 禁用断言</li>
</ul>
</div>
</div>

<div id="outline-container-org7d875cb" class="outline-3">
<h3 id="org7d875cb"><span class="section-number-3">4.3</span> 格式输出字符串</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li><code>String.format(String fmt, Object... args)</code> 的字符串格式和 C 语言的 printf
一样。</li>
<li><code>MessageFormat.format(String fmt, Object... args)</code> 使用单引号标记任意字面
量，使用花括号加数字来表示相应的位置的占位符，例如： <code>{0}</code> 表示第 1 个位置
的参数， <code>{1}</code> 表示第 2 个位置的参数，以此类推。</li>
</ul>
<div class="org-src-container">
<pre class="src src-java">java&gt; String.format<span style="color: #8d5649;">(</span><span style="color: #2aa198;">"Hi, %s"</span>, <span style="color: #2aa198;">"Jack"</span><span style="color: #8d5649;">)</span>;
<span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">lang</span>.<span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">res0</span> = <span style="color: #2aa198;">"Hi, Jack"</span>
java&gt; <span style="color: #859900;">import</span> <span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">text</span>.<span style="color: #268bd2;">MessageFormat</span>;
Imported <span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">text</span>.<span style="color: #268bd2;">MessageFormat</span>
<span style="color: #b58900;">java</span>&gt; MessageFormat.format<span style="color: #8d5649;">(</span><span style="color: #2aa198;">"Hi, {0}, I''m {1} years old."</span>, <span style="color: #2aa198;">"Tom"</span>, 18<span style="color: #8d5649;">)</span>;
<span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">lang</span>.<span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">res1</span> = <span style="color: #2aa198;">"Hi, Tom, I'm 18 years old."</span>
java&gt; MessageFormat.format<span style="color: #8d5649;">(</span><span style="color: #2aa198;">"'Hi, {0}, I''m {1} years old.'"</span>, <span style="color: #2aa198;">"Tom"</span>, 18<span style="color: #8d5649;">)</span>;
<span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">lang</span>.<span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">res2</span> = <span style="color: #2aa198;">"Hi, {0}, I'm {1} years old."</span>
java&gt;
</pre>
</div>

<p>
格式化数字，注意在处理 long 类型的数字时，需要对数字进行格式化，参考下面的例子
</p>
<div class="org-src-container">
<pre class="src src-java">java&gt; MessageFormat.format<span style="color: #8d5649;">(</span><span style="color: #2aa198;">"{0,number,#}"</span>, 1889989898989L<span style="color: #8d5649;">)</span>;
<span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">lang</span>.<span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">res14</span> = <span style="color: #2aa198;">"1889989898989"</span>
java&gt; MessageFormat.format<span style="color: #8d5649;">(</span><span style="color: #2aa198;">"{0}"</span>, 1889989898989L<span style="color: #8d5649;">)</span>;
<span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">lang</span>.<span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">res15</span> = <span style="color: #2aa198;">"1,889,989,898,989"</span>
java&gt; MessageFormat.format<span style="color: #8d5649;">(</span><span style="color: #2aa198;">"{0,number,#000000}"</span>, 1889989898989L<span style="color: #8d5649;">)</span>;
<span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">lang</span>.<span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">res16</span> = <span style="color: #2aa198;">"1889989898989"</span>
java&gt; MessageFormat.format<span style="color: #8d5649;">(</span><span style="color: #2aa198;">"{0,number,#000000}"</span>, 12345L<span style="color: #8d5649;">)</span>;
<span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">lang</span>.<span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">res17</span> = <span style="color: #2aa198;">"012345"</span>
java&gt; MessageFormat.format<span style="color: #8d5649;">(</span><span style="color: #2aa198;">"{0,number,#}"</span>, 12345L<span style="color: #8d5649;">)</span>;
<span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">lang</span>.<span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">res18</span> = <span style="color: #2aa198;">"12345"</span>
java&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org2cf423c" class="outline-3">
<h3 id="org2cf423c"><span class="section-number-3">4.4</span> 获取当前时间戳</h3>
<div class="outline-text-3" id="text-4-4">
<p>
自带的时间戳的获取方式有一下两种
</p>
<div class="org-src-container">
<pre class="src src-java">java&gt; <span style="color: #859900;">new</span> <span style="color: #268bd2;">Date</span><span style="color: #8d5649;">()</span>.getTime<span style="color: #8d5649;">()</span>
<span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">lang</span>.Long res0 = 1583839335691
java&gt; System.currentTimeMillis<span style="color: #8d5649;">()</span>
<span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">lang</span>.Long res1 = 1583839349221
java&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-org2d8c6bf" class="outline-3">
<h3 id="org2d8c6bf"><span class="section-number-3">4.5</span> 正则表达式</h3>
<div class="outline-text-3" id="text-4-5">
<p>
正则表达式（regular expression）是处理字符串的一个非常有效的工具，Java 中关于
正则表达式处理的相关方法在 <code>java.util.regex.*</code> 包中
</p>

<p>
一种正则表达式的方式是，新建一个 Pattern，然后通过 Matcher 来匹配
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">import</span> <span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">util</span>.<span style="color: #268bd2;">regex</span>.*;
<span style="color: #859900;">class</span> <span style="color: #268bd2;">App232</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">public</span> <span style="color: #859900;">static</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">main</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">args</span><span style="color: #9564bf;">[]</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">text</span> = <span style="color: #2aa198;">"823-232-232"</span>;
    <span style="color: #268bd2;">Pattern</span> <span style="color: #6c71c4;">regex1</span> = Pattern.compile<span style="color: #9564bf;">(</span><span style="color: #2aa198;">"^([0-9]*)\\s*"</span>, <span style="color: #268bd2;">Pattern</span>.CASE_INSENSITIVE<span style="color: #9564bf;">)</span>;
    <span style="color: #268bd2;">Matcher</span> <span style="color: #6c71c4;">matcher1</span> = regex1.matcher<span style="color: #9564bf;">(</span>text<span style="color: #9564bf;">)</span>;
    <span style="color: #859900;">if</span> <span style="color: #9564bf;">(</span>matcher1.find<span style="color: #24a222;">()</span><span style="color: #9564bf;">)</span> <span style="color: #9564bf;">{</span>
      <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">g1</span> = matcher1.group<span style="color: #24a222;">(</span>1<span style="color: #24a222;">)</span>; <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; "832"</span>
    <span style="color: #9564bf;">}</span>
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>

<p>
如果仅仅判断字符串是否符合正则表达式，可以使用 Pattern 类中的 <code>matches</code> 静态
方法
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">import</span> <span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">util</span>.*;
<span style="color: #859900;">import</span> <span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">util</span>.<span style="color: #268bd2;">regex</span>.*;
<span style="color: #859900;">class</span> <span style="color: #268bd2;">App482</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">public</span> <span style="color: #859900;">static</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">main</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">args</span><span style="color: #9564bf;">[]</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">text</span> = <span style="color: #2aa198;">"Hello world"</span>;
    <span style="color: #859900;">if</span> <span style="color: #9564bf;">(</span><span style="color: #268bd2;">!</span> Pattern.matches<span style="color: #24a222;">(</span><span style="color: #2aa198;">"\\s*"</span>, text<span style="color: #24a222;">)</span><span style="color: #9564bf;">)</span> <span style="color: #9564bf;">{</span>
      <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">find non-blank text</span>
    <span style="color: #9564bf;">}</span>
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>

<p>
使用正则表达式替换字符串，例如 <code>replaceAll</code> 可以使用下面的方法来替换
</p>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #859900;">import</span> <span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">util</span>.*;
<span style="color: #859900;">import</span> <span style="color: #268bd2;">java</span>.<span style="color: #268bd2;">util</span>.<span style="color: #268bd2;">regex</span>.*;
<span style="color: #859900;">class</span> <span style="color: #268bd2;">App575</span> <span style="color: #8d5649;">{</span>
  <span style="color: #859900;">public</span> <span style="color: #859900;">static</span> <span style="color: #268bd2;">void</span> <span style="color: #b58900;">main</span><span style="color: #d8241f;">(</span><span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">args</span><span style="color: #9564bf;">[]</span><span style="color: #d8241f;">)</span> <span style="color: #d8241f;">{</span>
    <span style="color: #268bd2;">Pattern</span> <span style="color: #6c71c4;">regex2</span> = Pattern.compile<span style="color: #9564bf;">(</span><span style="color: #2aa198;">"[0-9]+"</span>, <span style="color: #268bd2;">Pattern</span>.CASE_INSENSITIVE<span style="color: #9564bf;">)</span>;
    <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">text</span> = <span style="color: #2aa198;">"823-232-232"</span>;
    <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">res1</span> = regex2.matcher<span style="color: #9564bf;">(</span>text<span style="color: #9564bf;">)</span>.replaceAll<span style="color: #9564bf;">(</span><span style="color: #2aa198;">"#"</span><span style="color: #9564bf;">)</span>; <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; "#-#-#"</span>
    <span style="color: #268bd2;">String</span> <span style="color: #6c71c4;">res2</span> = text.replaceAll<span style="color: #9564bf;">(</span><span style="color: #2aa198;">"[0-9]+"</span>, <span style="color: #2aa198;">"#"</span><span style="color: #9564bf;">)</span>; <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">same as res1</span>
  <span style="color: #d8241f;">}</span>
<span style="color: #8d5649;">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2564430" class="outline-3">
<h3 id="org2564430"><span class="section-number-3">4.6</span> 线程</h3>
</div>
</div>
<div id="outline-container-orged411d1" class="outline-2">
<h2 id="orged411d1"><span class="section-number-2">5</span> JDK 和 JVM</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org8e4d11d" class="outline-3">
<h3 id="org8e4d11d"><span class="section-number-3">5.1</span> JDK 1.8 简洁和新特性</h3>
<div class="outline-text-3" id="text-5-1">
<p>
<a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">JDK</a> 是 Java 语言的软件开发工具包，主要用于移动设备、嵌入式设备上的 JAVA 应用
程序。JDK 是整个 Java 开发的核心，它包含了 JAVA 的运行环境（JVM+Java 系统类库）
和 JAVA 工具。目前主要使用的 JDK 版本为 1.8 ，其参考见 <a href="https://www.oracle.com/technetwork/java/javase/documentation/jdk8-doc-downloads-2133158.html">JDK Documentation</a>
</p>

<ul class="org-ul">
<li>Java 8 允许我们给接口添加一个非抽象的方法实现，只需要使用 default 关键字即
可。</li>
<li>新增 lambda 表达式</li>
<li>提供函数式接口</li>
<li>Java 8 允许你使用关键字来传递方法或者构造函数引用</li>
<li>我们可以直接在 lambda 表达式中访问外层的局部变量。</li>
</ul>

<p>
JDK 1.8 的概念图如下：
</p>


<div class="figure">
<p><img src="../static/image/2019/07/jdk8-conceptual-diagram.png" alt="jdk8-conceptual-diagram.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-org5f83701" class="outline-3">
<h3 id="org5f83701"><span class="section-number-3">5.2</span> <span class="todo TODO">TODO</span> JVM</h3>
<div class="outline-text-3" id="text-5-2">
</div>
<div id="outline-container-org6ce89b0" class="outline-4">
<h4 id="org6ce89b0"><span class="section-number-4">5.2.1</span> 类加载过程</h4>
<div class="outline-text-4" id="text-5-2-1">

<div class="figure">
<p><img src="../static/image/2020/03/java-class-loading.png" alt="java-class-loading.png" />
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org5a08164" class="outline-3">
<h3 id="org5a08164"><span class="section-number-3">5.3</span> <span class="todo TODO">TODO</span> JDK 常用包</h3>
<div class="outline-text-3" id="text-5-3">
</div>
<div id="outline-container-org9bb77c2" class="outline-4">
<h4 id="org9bb77c2"><span class="section-number-4">5.3.1</span> <code>java.lang</code></h4>
<div class="outline-text-4" id="text-5-3-1">
<p>
这个是系统的基础类，比如 String 等都是这里面的，这个 package 是唯一一个可以
<b>不用 import</b> 就可以使用的 Package
</p>
</div>
</div>

<div id="outline-container-org02f1e45" class="outline-4">
<h4 id="org02f1e45"><span class="section-number-4">5.3.2</span> <code>java.io</code></h4>
<div class="outline-text-4" id="text-5-3-2">
<p>
这里面是所有输入输出有关的类，比如文件操作等
</p>
</div>
</div>

<div id="outline-container-orgcb2cd35" class="outline-4">
<h4 id="orgcb2cd35"><span class="section-number-4">5.3.3</span> <code>java.net</code></h4>
<div class="outline-text-4" id="text-5-3-3">
<p>
这里面是与网络有关的类，比如 URL, URLConnection 等
</p>
</div>
</div>

<div id="outline-container-orgff4b3c7" class="outline-4">
<h4 id="orgff4b3c7"><span class="section-number-4">5.3.4</span> <code>java.util</code></h4>
<div class="outline-text-4" id="text-5-3-4">
<p>
这个是系统辅助类，特别是集合类 Collection, List, Map 等
</p>


<div class="figure">
<p><img src="../static/image/2019/07/java-collections.png" alt="java-collections.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgd856b75" class="outline-4">
<h4 id="orgd856b75"><span class="section-number-4">5.3.5</span> <code>java.sql</code></h4>
<div class="outline-text-4" id="text-5-3-5">
<p>
这个是数据库操作的类，Connection, Statememt，ResultSet 等
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org09907a5" class="outline-2">
<h2 id="org09907a5"><span class="section-number-2">6</span> READ</h2>
<div class="outline-text-2" id="text-6">
<ol class="org-ol">
<li><a href="https://google.github.io/styleguide/javaguide.html">Java Google Format</a></li>
<li><a href="https://zhengjianglong.gitbooks.io/note-of-interview/">互联网面试笔记</a></li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Last Updated 2020-03-17 Tue 23:27. Created by Jinghui Hu at 2019-07-03 Wed 11:04.</p>
</div>
</body>
</html>

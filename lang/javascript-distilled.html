<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-07-30 Tue 16:45 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>JavaScript 编程语言精粹</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Jinghui Hu" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="../readme.html"> UP </a>
 |
 <a accesskey="H" href="../index.html"> HOME </a>
</div><div id="content">
<h1 class="title">JavaScript 编程语言精粹</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgf792140">1. 基础知识</a>
<ul>
<li><a href="#org3800a99">1.1. 常量和变量</a></li>
<li><a href="#org6686cef">1.2. null 和 undefined</a></li>
<li><a href="#org92434bf">1.3. 类型</a>
<ul>
<li><a href="#org5aab7a6">1.3.1. 基本类型</a></li>
<li><a href="#orgbfca358">1.3.2. 类型转换</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org23adb65">2. 控制流</a>
<ul>
<li><a href="#org6c5dbb1">2.1. if 条件, switch case 多层条件控制</a></li>
<li><a href="#orgc58df62">2.2. while for 循环</a></li>
<li><a href="#org130f0b0">2.3. try catch 处理异常</a></li>
</ul>
</li>
<li><a href="#org84a8465">3. 函数</a>
<ul>
<li><a href="#org9f8fe1a">3.1. 函数定义</a></li>
<li><a href="#org8fdb078">3.2. 带默认值的函数</a></li>
<li><a href="#orgafbce62">3.3. Rest 参数和 <code>...</code> 操作符</a>
<ul>
<li><a href="#orgc422108">3.3.1. Rest 参数</a></li>
<li><a href="#org9387563">3.3.2. <code>arguments</code> 变量</a></li>
<li><a href="#org335de0c">3.3.3. <code>...</code> 操作符</a></li>
</ul>
</li>
<li><a href="#org0a88a0e">3.4. 函数对象和 NFE</a>
<ul>
<li><a href="#orgf705e5f">3.4.1. 函数对象</a></li>
<li><a href="#orgc9e38ff">3.4.2. NFE</a></li>
</ul>
</li>
<li><a href="#orge5dabd0">3.5. 调度 setTimeout/setInterval</a>
<ul>
<li><a href="#org63cb3bf">3.5.1. setTimeout</a></li>
<li><a href="#org800522d">3.5.2. clearTimeout</a></li>
<li><a href="#org72008ba">3.5.3. setInterval</a></li>
</ul>
</li>
<li><a href="#orga3f0015">3.6. 函数 <code>this</code> 绑定</a></li>
<li><a href="#org2e52c55">3.7. Currying</a></li>
</ul>
</li>
<li><a href="#orgde17c70">4. 标准内置对象</a>
<ul>
<li><a href="#org20b2423">4.1. Number 数字</a>
<ul>
<li><a href="#org0bf73b6">4.1.1. 转化成数字</a></li>
<li><a href="#org6be83df">4.1.2. 数字截断</a></li>
<li><a href="#org9fe7ddd">4.1.3. 其它函数</a></li>
<li><a href="#org02f76d1">4.1.4. 特殊数字测试</a></li>
</ul>
</li>
<li><a href="#org94f7e2d">4.2. String 字符串</a>
<ul>
<li><a href="#orge18e59a">4.2.1. 定义字符串</a></li>
<li><a href="#org3864a89">4.2.2. 字符串长度</a></li>
<li><a href="#orgce7dc2b">4.2.3. 获取子字符串</a></li>
<li><a href="#orgb220657">4.2.4. 字符串查找</a></li>
<li><a href="#orge963c20">4.2.5. 字符串替换/正则表达式</a></li>
<li><a href="#org331395a">4.2.6. 其它字符串函数</a></li>
</ul>
</li>
<li><a href="#orgfae7227">4.3. Array 数组</a>
<ul>
<li><a href="#orga5fbdd9">4.3.1. 创建</a></li>
<li><a href="#org385e2be">4.3.2. 修改元素：添加/删除</a></li>
<li><a href="#org4ef8a6b">4.3.3. 查找</a></li>
<li><a href="#orgc7e727f">4.3.4. 迭代</a></li>
<li><a href="#org12d0d9e">4.3.5. 数组变换</a></li>
<li><a href="#orgc60c08b">4.3.6. 其它</a></li>
</ul>
</li>
<li><a href="#orga7aa9ff">4.4. 迭代器/数组类似物</a>
<ul>
<li><a href="#orgf1d7bab">4.4.1. Array-like 和 Iterable</a></li>
<li><a href="#org880a7bb">4.4.2. <code>Array.from</code></a></li>
</ul>
</li>
<li><a href="#org51f6e06">4.5. Map/Set 等标准内置对象</a></li>
<li><a href="#org151bda0">4.6. Object 对象</a>
<ul>
<li><a href="#org47099df">4.6.1. 定义对象</a></li>
<li><a href="#orgf937c97">4.6.2. 对象基本操作</a></li>
<li><a href="#org5c47be9">4.6.3. 对象引用/复制</a></li>
<li><a href="#org8026d98">4.6.4. 更新对象</a></li>
<li><a href="#orge1fd7b4">4.6.5. 对象的键和值</a></li>
</ul>
</li>
<li><a href="#orgf625b67">4.7. Date 时间和日期</a>
<ul>
<li><a href="#org73e8d3a">4.7.1. 创建日期对象</a></li>
<li><a href="#org7b72f89">4.7.2. 时间函数</a></li>
<li><a href="#orgdf00197">4.7.3. 时间戳</a></li>
<li><a href="#orge3016c2">4.7.4. 字符串和 Date 互转</a></li>
</ul>
</li>
<li><a href="#org4d46e30">4.8. JSON</a></li>
</ul>
</li>
<li><a href="#orgcead471">5. 面向对象知识</a>
<ul>
<li><a href="#orgc9c5fdd">5.1. <code>new</code> 关键字和构造器</a>
<ul>
<li><a href="#org1c07f0a">5.1.1. 构造器</a></li>
<li><a href="#orgc56b077">5.1.2. <code>new</code> 操作符</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgf792140" class="outline-2">
<h2 id="orgf792140"><span class="section-number-2">1</span> 基础知识</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org3800a99" class="outline-3">
<h3 id="org3800a99"><span class="section-number-3">1.1</span> 常量和变量</h3>
<div class="outline-text-3" id="text-1-1">
<p>
定义常量使用 <code>const</code> 关键字，变量有 <code>var</code> 和 <code>let</code> ，其中 <code>var</code> 是旧版本的定
义变量方法，它没有 scope，但是 <code>let</code> 是有 scope 的，所以无论如何 <b>定义变量请
使用 let 关键字</b>
</p>

<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #859900;">if</span> (<span style="color: #268bd2;">true</span>) {
... <span style="color: #859900;">var</span> <span style="color: #6c71c4;">v1</span> = <span style="color: #268bd2;">true</span>;
... }
&gt; v1
<span style="color: #268bd2;">true</span>
&gt; <span style="color: #859900;">if</span> (<span style="color: #268bd2;">true</span>) {
... <span style="color: #859900;">let</span> <span style="color: #6c71c4;">v2</span> = <span style="color: #268bd2;">true</span>;
... }
&gt; v2
Thrown:
ReferenceError: v2 is not defined
&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org6686cef" class="outline-3">
<h3 id="org6686cef"><span class="section-number-3">1.2</span> null 和 undefined</h3>
<div class="outline-text-3" id="text-1-2">
<p>
<code>null</code> 在 JavaScript 中表示空值， <code>undefined</code> 通常是为没有赋值的变量。通常变
量为空的时候要使用 <code>null</code> ，尽量避免 <code>undefined</code>
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #268bd2;">null</span> == <span style="color: #268bd2;">undefined</span>
<span style="color: #268bd2;">true</span>
&gt; <span style="color: #268bd2;">null</span> === <span style="color: #268bd2;">undefined</span>
<span style="color: #268bd2;">false</span>
&gt; <span style="color: #268bd2;">undefined</span> == <span style="color: #268bd2;">undefined</span>
<span style="color: #268bd2;">true</span>
&gt; <span style="color: #859900;">typeof</span> <span style="color: #268bd2;">undefined</span>
<span style="color: #2aa198;">'undefined'</span>
&gt; <span style="color: #859900;">typeof</span> <span style="color: #268bd2;">null</span>
<span style="color: #2aa198;">'object'</span>
&gt; <span style="color: #859900;">typeof</span> <span style="color: #268bd2;">true</span>
<span style="color: #2aa198;">'boolean'</span>
&gt; <span style="color: #859900;">typeof</span> 0
<span style="color: #2aa198;">'number'</span>
&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org92434bf" class="outline-3">
<h3 id="org92434bf"><span class="section-number-3">1.3</span> 类型</h3>
<div class="outline-text-3" id="text-1-3">
</div>
<div id="outline-container-org5aab7a6" class="outline-4">
<h4 id="org5aab7a6"><span class="section-number-4">1.3.1</span> 基本类型</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
JavaScript 的基本类型包括： <code>string</code>, <code>number</code>, <code>boolean</code>, <code>symbol</code>, <code>null</code>
和 <code>undefined</code>
</p>
<ul class="org-ul">
<li>普通对象都有相应的方法</li>
<li><code>null</code> 和 <code>undefined</code> 没有方法</li>
</ul>

<p>
JavaScript 的基本类型有以下 <code>包装类</code> ，例如： <code>String</code>, <code>Number</code>, <code>Boolean</code>
和 <code>Symbol</code>
</p>
</div>
</div>

<div id="outline-container-orgbfca358" class="outline-4">
<h4 id="orgbfca358"><span class="section-number-4">1.3.2</span> 类型转换</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
转换成字符串
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; String(<span style="color: #268bd2;">true</span>)
<span style="color: #2aa198;">'true'</span>
&gt; String(<span style="color: #268bd2;">null</span>)
<span style="color: #2aa198;">'null'</span>
&gt; String(23)
<span style="color: #2aa198;">'23'</span>
&gt;String(<span style="color: #268bd2;">undefined</span>)
<span style="color: #2aa198;">'undefined'</span>
&gt; <span style="color: #2aa198;">''</span> + 21
<span style="color: #2aa198;">'21'</span>
&gt; 2 + 2 + <span style="color: #2aa198;">'1'</span>
<span style="color: #2aa198;">'41'</span>
</pre>
</div>
<p>
转换成数值
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #2aa198;">"6"</span> / <span style="color: #2aa198;">"3"</span>
2
&gt; Number(<span style="color: #2aa198;">"234"</span>)
234
&gt; Number(<span style="color: #2aa198;">"str"</span>)
<span style="color: #268bd2;">NaN</span>
&gt; Number(<span style="color: #268bd2;">null</span>)
0
&gt; Number(<span style="color: #268bd2;">undefined</span>)
<span style="color: #268bd2;">NaN</span>
&gt; Number(<span style="color: #268bd2;">true</span>)
1
&gt; Number(<span style="color: #268bd2;">false</span>)
0
&gt; +<span style="color: #2aa198;">'12.3'</span>
12.3
&gt; parseInt(<span style="color: #2aa198;">'23'</span>)
23
&gt; parseFloat(<span style="color: #2aa198;">'3.14'</span>)
3.14
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org23adb65" class="outline-2">
<h2 id="org23adb65"><span class="section-number-2">2</span> 控制流</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org6c5dbb1" class="outline-3">
<h3 id="org6c5dbb1"><span class="section-number-3">2.1</span> if 条件, switch case 多层条件控制</h3>
<div class="outline-text-3" id="text-2-1">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">if</span> (year &lt; 2015) {
  alert( <span style="color: #2aa198;">'Too early...'</span> );
} <span style="color: #859900;">else</span> <span style="color: #859900;">if</span> (year &gt; 2015) {
  alert( <span style="color: #2aa198;">'Too late'</span> );
} <span style="color: #859900;">else</span> {
  alert( <span style="color: #2aa198;">'Exactly!'</span> );
}

<span style="color: #859900;">let</span> <span style="color: #6c71c4;">a</span> = 2 + 2;

<span style="color: #859900;">switch</span> (a) {
  <span style="color: #859900;">case</span> 3:
    alert( <span style="color: #2aa198;">'Too small'</span> );
    <span style="color: #859900;">break</span>;
  <span style="color: #859900;">case</span> 4:
    alert( <span style="color: #2aa198;">'Exactly!'</span> );
    <span style="color: #859900;">break</span>;
  <span style="color: #859900;">case</span> 5:
    alert( <span style="color: #2aa198;">'Too large'</span> );
    <span style="color: #859900;">break</span>;
  <span style="color: #859900;">default</span>:
    alert( <span style="color: #2aa198;">"I don't know such values"</span> );
}
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc58df62" class="outline-3">
<h3 id="orgc58df62"><span class="section-number-3">2.2</span> while for 循环</h3>
<div class="outline-text-3" id="text-2-2">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">let</span> <span style="color: #6c71c4;">i</span> = 0;
<span style="color: #859900;">while</span> (i &lt; 3) { <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">shows 0, then 1, then 2</span>
  alert( i );
  i++;
}

<span style="color: #859900;">do</span> {
  alert( i );
  i++;
} <span style="color: #859900;">while</span> (i &lt; 3);

<span style="color: #859900;">for</span> (<span style="color: #859900;">let</span> <span style="color: #6c71c4;">i</span> = 0; i &lt; 3; i++) { <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">shows 0, then 1, then 2</span>
  alert(i);
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org130f0b0" class="outline-3">
<h3 id="org130f0b0"><span class="section-number-3">2.3</span> try catch 处理异常</h3>
<div class="outline-text-3" id="text-2-3">
<p>
异常一般用到的比较少，这里先记上
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">try</span> {
  alert( <span style="color: #2aa198;">'try'</span> );
  <span style="color: #859900;">if</span> (confirm(<span style="color: #2aa198;">'Make an error?'</span>)) BAD_CODE();
} <span style="color: #859900;">catch</span> (e) {
  alert( <span style="color: #2aa198;">'catch'</span> );
} <span style="color: #859900;">finally</span> {
  alert( <span style="color: #2aa198;">'finally'</span> );
}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org84a8465" class="outline-2">
<h2 id="org84a8465"><span class="section-number-2">3</span> 函数</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org9f8fe1a" class="outline-3">
<h3 id="org9f8fe1a"><span class="section-number-3">3.1</span> 函数定义</h3>
<div class="outline-text-3" id="text-3-1">
<p>
函数是 JavaScript 的重要工具，定义函数有以下几种方法
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">function</span> <span style="color: #b58900;">sum</span>(<span style="color: #6c71c4;">a</span>, <span style="color: #6c71c4;">b</span>) {
  <span style="color: #859900;">let</span> <span style="color: #6c71c4;">result</span> = a + b;
  <span style="color: #859900;">return</span> result;
}
<span style="color: #859900;">let</span> <span style="color: #6c71c4;">sum</span> = <span style="color: #859900;">function</span>(<span style="color: #6c71c4;">a</span>, <span style="color: #6c71c4;">b</span>) {
  <span style="color: #859900;">let</span> <span style="color: #6c71c4;">result</span> = a + b;
  <span style="color: #859900;">return</span> result;
}

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">expression at the right side</span>
<span style="color: #859900;">let</span> <span style="color: #6c71c4;">sum</span> = (a, b) =&gt; a + b;
<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">or multi-line syntax with { ... }, need return here:</span>
<span style="color: #859900;">let</span> <span style="color: #6c71c4;">sum</span> = (a, b) =&gt; {
  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">...</span>
  <span style="color: #859900;">return</span> a + b;
}

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">without arguments</span>
<span style="color: #859900;">let</span> <span style="color: #6c71c4;">sayHi</span> = () =&gt; alert(<span style="color: #2aa198;">"Hello"</span>);
<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">with a single argument</span>
<span style="color: #859900;">let</span> <span style="color: #268bd2;">double</span> = n =&gt; n * 2;
</pre>
</div>

<p>
箭头函数绑定了上下文，所以箭头函数有以下特点：
</p>
<ul class="org-ul">
<li>没有 <code>this</code></li>
<li>没有 <code>arguments</code></li>
<li>不能使用 <code>new</code> 来创建对象</li>
<li>没有 <code>super</code></li>
</ul>
</div>
</div>

<div id="outline-container-org8fdb078" class="outline-3">
<h3 id="org8fdb078"><span class="section-number-3">3.2</span> 带默认值的函数</h3>
<div class="outline-text-3" id="text-3-2">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">function</span> <span style="color: #b58900;">showMessage</span>(<span style="color: #6c71c4;">from</span>, <span style="color: #6c71c4;">text</span>) {
  alert(from + <span style="color: #2aa198;">': '</span> + text);
}
<span style="color: #859900;">function</span> <span style="color: #b58900;">showMessage2</span>(<span style="color: #6c71c4;">from</span>, <span style="color: #6c71c4;">text</span>=<span style="color: #2aa198;">'hello'</span>) {
  alert(from + <span style="color: #2aa198;">': '</span> + text);
}
</pre>
</div>
</div>
</div>

<div id="outline-container-orgafbce62" class="outline-3">
<h3 id="orgafbce62"><span class="section-number-3">3.3</span> Rest 参数和 <code>...</code> 操作符</h3>
<div class="outline-text-3" id="text-3-3">
</div>
<div id="outline-container-orgc422108" class="outline-4">
<h4 id="orgc422108"><span class="section-number-4">3.3.1</span> Rest 参数</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
JavaScript 中的三点操作符 <code>...</code> 可以定义变长的参数
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">function</span> <span style="color: #b58900;">sumAll</span>(...args) { <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">args is the name for the array</span>
  <span style="color: #859900;">let</span> <span style="color: #6c71c4;">sum</span> = 0;
  <span style="color: #859900;">for</span> (<span style="color: #859900;">let</span> <span style="color: #6c71c4;">arg</span> of args) sum += arg;
  <span style="color: #859900;">return</span> sum;
}

sumAll(1); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">1</span>
sumAll(1, 2); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">3</span>
sumAll(1, 2, 3); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">6</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9387563" class="outline-4">
<h4 id="org9387563"><span class="section-number-4">3.3.2</span> <code>arguments</code> 变量</h4>
<div class="outline-text-4" id="text-3-3-2">
<p>
JavaScript 的每个函数中都默认传入一个 Array-like 的 <code>arguments</code> 变量，用于处
理函数的对象。使用 <code>arguments</code> 主要是兼容以前 JavaScript 不支持 Rest 参数
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">function</span> <span style="color: #b58900;">showName</span>() {
  console.log(<span style="color: #268bd2;">arguments</span>.length);
  console.log(<span style="color: #268bd2;">arguments</span>[0]);
  console.log(<span style="color: #268bd2;">arguments</span>[1]);

  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">it's iterable</span>
  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">for(let arg of arguments) alert(arg);</span>
}

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">shows: 2, Julius, Caesar</span>
showName(<span style="color: #2aa198;">"Julius"</span>, <span style="color: #2aa198;">"Caesar"</span>);
<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">shows: 1, Ilya, undefined (no second argument)</span>
showName(<span style="color: #2aa198;">"Ilya"</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-org335de0c" class="outline-4">
<h4 id="org335de0c"><span class="section-number-4">3.3.3</span> <code>...</code> 操作符</h4>
<div class="outline-text-4" id="text-3-3-3">
<p>
<code>...</code> 可以将数组中作为变长参数传入函数中
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; arr = [1, 2, 5]
[ 1, 2, 5 ]
&gt; Math.max(1,2,5)
5
&gt; Math.max(arr)
<span style="color: #268bd2;">NaN</span>
&gt; Math.max(...arr)
5
</pre>
</div>

<p>
<code>...</code> 可以合并数组
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #859900;">let</span> <span style="color: #6c71c4;">a</span> = [1, 3, 5];
&gt; <span style="color: #859900;">let</span> <span style="color: #6c71c4;">b</span> = [2, 4, 6];
&gt; [...a, ...b]
[ 1, 3, 5, 2, 4, 6 ]
&gt; Math.max(9, ...a, ...b)
9
&gt;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0a88a0e" class="outline-3">
<h3 id="org0a88a0e"><span class="section-number-3">3.4</span> 函数对象和 NFE</h3>
<div class="outline-text-3" id="text-3-4">
<p>
JavaScript 中函数也是一种对象，所以函数都是 <code>Function</code> 的实例。NFE 是命名函数
表达式（Named Function Expression）。
</p>
</div>

<div id="outline-container-orgf705e5f" class="outline-4">
<h4 id="orgf705e5f"><span class="section-number-4">3.4.1</span> 函数对象</h4>
<div class="outline-text-4" id="text-3-4-1">
<ul class="org-ul">
<li>函数对象都包含 <code>name</code> 属性，表示函数的名称</li>
<li>函数对象包含 <code>length</code> 属性，表示函数的参数的长度</li>
</ul>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #859900;">function</span> sayHi() { console.log(<span style="color: #2aa198;">'hello'</span>); }
&gt; sayHi.name
<span style="color: #2aa198;">'sayHi'</span>
&gt; sayHi.length
0
&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc9e38ff" class="outline-4">
<h4 id="orgc9e38ff"><span class="section-number-4">3.4.2</span> NFE</h4>
<div class="outline-text-4" id="text-3-4-2">
<p>
NFE 在函数定义赋值前重新添加一个函数名称，具体如下：
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">let</span> <span style="color: #6c71c4;">sayHi</span> = <span style="color: #859900;">function</span> func(<span style="color: #6c71c4;">who</span>) { <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">additional func as name</span>
  alert(<span style="color: #2aa198;">`Hello, ${who}`</span>);
};
</pre>
</div>
<p>
这样定义的好处是：
</p>
<ul class="org-ul">
<li>func 函数名对函数内部可见</li>
<li>func 函数名对函数外部不可见</li>
</ul>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">let</span> <span style="color: #6c71c4;">sayHi</span> = <span style="color: #859900;">function</span> func(<span style="color: #6c71c4;">who</span>) {
  <span style="color: #859900;">if</span> (who) {
    alert(<span style="color: #2aa198;">`Hello, ${who}`</span>);
  } <span style="color: #859900;">else</span> {
    func(<span style="color: #2aa198;">"Guest"</span>); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">use func to re-call itself</span>
  }
};

sayHi(); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">Hello, Guest</span>
<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">But this won't work:</span>
func(); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">Error, func is not defined (not visible outside of the function)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge5dabd0" class="outline-3">
<h3 id="orge5dabd0"><span class="section-number-3">3.5</span> 调度 setTimeout/setInterval</h3>
<div class="outline-text-3" id="text-3-5">
<ul class="org-ul">
<li><code>setTimeout</code> 设置一定计时后运行</li>
<li><code>setInterval</code> 设置一定周期运行函数</li>
<li><code>clearTimeout/clearInterval</code> 取消计时器</li>
</ul>
</div>

<div id="outline-container-org63cb3bf" class="outline-4">
<h4 id="org63cb3bf"><span class="section-number-4">3.5.1</span> setTimeout</h4>
<div class="outline-text-4" id="text-3-5-1">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">let</span> <span style="color: #6c71c4;">timerId</span> = setTimeout(func|code, delay[, arg1, arg2...])
</pre>
</div>
<ul class="org-ul">
<li><code>func</code> 回调函数</li>
<li><code>delay</code> 延迟毫秒数</li>
<li><code>arg1, arg2, ...</code> 回调函数的参数</li>
</ul>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">function</span> <span style="color: #b58900;">sayHi</span>() {
  console.log(<span style="color: #2aa198;">'Hello'</span>);
}

setTimeout(sayHi, 1000);
</pre>
</div>

<p>
<code>setTimeout(func,0)</code> 是在定义后里面运行函数，这个可以实现异步调用，例如下面
的例子中会在显示 Hello 过后立马显示 World
</p>
<div class="org-src-container">
<pre class="src src-js">setTimeout(() =&gt; alert(<span style="color: #2aa198;">"World"</span>), 0);

alert(<span style="color: #2aa198;">"Hello"</span>);
</pre>
</div>
<p>
另外使用 <code>setTimeout(func,0)</code> 可以将高消耗 CPU 的工作放在初始化过后进行
</p>
</div>
</div>

<div id="outline-container-org800522d" class="outline-4">
<h4 id="org800522d"><span class="section-number-4">3.5.2</span> clearTimeout</h4>
<div class="outline-text-4" id="text-3-5-2">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">let</span> <span style="color: #6c71c4;">timerId</span> = setTimeout(...);
clearTimeout(timerId);
</pre>
</div>
</div>
</div>

<div id="outline-container-org72008ba" class="outline-4">
<h4 id="org72008ba"><span class="section-number-4">3.5.3</span> setInterval</h4>
<div class="outline-text-4" id="text-3-5-3">
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">let</span> <span style="color: #6c71c4;">timerId</span> = setInterval(func|code, delay[, arg1, arg2...])
</pre>
</div>
<p>
参数和 <code>setTimeout</code> 类似
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">repeat with the interval of 2 seconds</span>
<span style="color: #859900;">let</span> <span style="color: #6c71c4;">timerId</span> = setInterval(() =&gt; alert(<span style="color: #2aa198;">'tick'</span>), 2000);

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">after 5 seconds stop</span>
setTimeout(() =&gt; { clearInterval(timerId); alert(<span style="color: #2aa198;">'stop'</span>); }, 5000);
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga3f0015" class="outline-3">
<h3 id="orga3f0015"><span class="section-number-3">3.6</span> 函数 <code>this</code> 绑定</h3>
<div class="outline-text-3" id="text-3-6">
<ul class="org-ul">
<li><code>func.bind(context, ...args)</code> 绑定 func 的 <code>this</code> 到 context，详见 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind">bind</a></li>
<li><code>func.call(context, ...args)</code> 绑定 func 的 <code>this</code> 到 context, 然后调用函数
func，将 <code>...args</code> 作为参数传入，详见 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call">call</a></li>
<li><code>func.apply(context, args)</code> 绑定 func 的 <code>this</code> 到 context, 然后调用函数
func，将 Array-like 的 <code>args</code> 作为参数传入，详见 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply">apply</a></li>
</ul>
</div>
</div>

<div id="outline-container-org2e52c55" class="outline-3">
<h3 id="org2e52c55"><span class="section-number-3">3.7</span> Currying</h3>
<div class="outline-text-3" id="text-3-7">
<p>
Currying 将 <code>f(a,b,c)</code> 转化成 <code>f(a)(b)(c)</code> 这样的调用。一个简单的 curry 实现如
下：
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">function</span> <span style="color: #b58900;">curry</span>(<span style="color: #6c71c4;">func</span>) {

  <span style="color: #859900;">return</span> <span style="color: #859900;">function</span> curried(...args) {
    <span style="color: #859900;">if</span> (args.length &gt;= func.length) {
      <span style="color: #859900;">return</span> func.apply(<span style="color: #268bd2;">this</span>, args);
    } <span style="color: #859900;">else</span> {
      <span style="color: #859900;">return</span> <span style="color: #859900;">function</span>(...args2) {
        <span style="color: #859900;">return</span> curried.apply(<span style="color: #268bd2;">this</span>, args.concat(args2));
      }
    }
  };

}
</pre>
</div>

<p>
lodash 库提供 <a href="https://lodash.com/docs/4.17.15#curry">_.curry</a> 实现的工具函数
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">var</span> <span style="color: #6c71c4;">abc</span> = <span style="color: #859900;">function</span>(<span style="color: #6c71c4;">a</span>, <span style="color: #6c71c4;">b</span>, <span style="color: #6c71c4;">c</span>) {
  <span style="color: #859900;">return</span> [a, b, c];
};

<span style="color: #859900;">var</span> <span style="color: #6c71c4;">curried</span> = _.curry(abc);

curried(1)(2)(3);
<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; [1, 2, 3]</span>

curried(1, 2)(3);
<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; [1, 2, 3]</span>

curried(1, 2, 3);
<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; [1, 2, 3]</span>

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">Curried with placeholders.</span>
curried(1)(_, 3)(2);
<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; [1, 2, 3]</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgde17c70" class="outline-2">
<h2 id="orgde17c70"><span class="section-number-2">4</span> 标准内置对象</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org20b2423" class="outline-3">
<h3 id="org20b2423"><span class="section-number-3">4.1</span> Number 数字</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-org0bf73b6" class="outline-4">
<h4 id="org0bf73b6"><span class="section-number-4">4.1.1</span> 转化成数字</h4>
<div class="outline-text-4" id="text-4-1-1">
<ul class="org-ul">
<li><code>parseInt(str, base)</code> 转化成整数</li>
<li><code>parseFloat(str)</code> 转化成浮点数</li>
</ul>
</div>
</div>

<div id="outline-container-org6be83df" class="outline-4">
<h4 id="org6be83df"><span class="section-number-4">4.1.2</span> 数字截断</h4>
<div class="outline-text-4" id="text-4-1-2">
<p>
主要有： <code>Math.floor</code> , <code>Math.ceil</code>, <code>Math.round</code>, <code>Math.trunc</code> 这些方法，例
子见下表
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-right">&#xa0;</th>
<th scope="col" class="org-right">Math.floor</th>
<th scope="col" class="org-right">Math.ceil</th>
<th scope="col" class="org-right">Math.round</th>
<th scope="col" class="org-right">Math.trunc</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-right">3.1</td>
<td class="org-right">3</td>
<td class="org-right">4</td>
<td class="org-right">3</td>
<td class="org-right">3</td>
</tr>

<tr>
<td class="org-right">3.6</td>
<td class="org-right">3</td>
<td class="org-right">4</td>
<td class="org-right">4</td>
<td class="org-right">3</td>
</tr>

<tr>
<td class="org-right">-1.1</td>
<td class="org-right">-2</td>
<td class="org-right">-1</td>
<td class="org-right">-1</td>
<td class="org-right">-1</td>
</tr>

<tr>
<td class="org-right">-1.6</td>
<td class="org-right">-2</td>
<td class="org-right">-1</td>
<td class="org-right">-2</td>
<td class="org-right">-1</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org9fe7ddd" class="outline-4">
<h4 id="org9fe7ddd"><span class="section-number-4">4.1.3</span> 其它函数</h4>
<div class="outline-text-4" id="text-4-1-3">
<ul class="org-ul">
<li><code>Math.random()</code> 取 0 到 1 之间的随机数</li>
<li><code>Math.max(a, b, c, ..)</code> 和 <code>Math.min(a, b, c, ..)</code> 取最值</li>
<li><code>Math.pow(n, power)</code></li>
</ul>
</div>
</div>

<div id="outline-container-org02f76d1" class="outline-4">
<h4 id="org02f76d1"><span class="section-number-4">4.1.4</span> 特殊数字测试</h4>
<div class="outline-text-4" id="text-4-1-4">
<ul class="org-ul">
<li><code>isFinite</code> 如果不是无穷大，返回真；否则返回假。 <code>Infinity</code> 和 <code>-Infinity</code>
表示无穷大和无穷小</li>
<li><code>isNaN</code> 测试是否是一个数字</li>
</ul>

<div class="org-src-container">
<pre class="src src-js">&gt; isFinite(<span style="color: #268bd2;">NaN</span>)
<span style="color: #268bd2;">false</span>
&gt; isFinite(-<span style="color: #268bd2;">Infinity</span>)
<span style="color: #268bd2;">false</span>
&gt; isFinite(<span style="color: #268bd2;">Infinity</span>)
<span style="color: #268bd2;">false</span>
&gt; isFinite(12)
<span style="color: #268bd2;">true</span>
&gt; isNaN(<span style="color: #268bd2;">NaN</span>)
<span style="color: #268bd2;">true</span>
&gt; isNaN(2)
<span style="color: #268bd2;">false</span>
&gt; isNaN(<span style="color: #2aa198;">"ss"</span>)
<span style="color: #268bd2;">true</span>
&gt;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org94f7e2d" class="outline-3">
<h3 id="org94f7e2d"><span class="section-number-3">4.2</span> String 字符串</h3>
<div class="outline-text-3" id="text-4-2">
<p>
String 对象在 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">MDN</a> 中有详细的介绍
</p>
</div>
<div id="outline-container-orge18e59a" class="outline-4">
<h4 id="orge18e59a"><span class="section-number-4">4.2.1</span> 定义字符串</h4>
<div class="outline-text-4" id="text-4-2-1">
<p>
注意使用 <code>${...}</code> 表达式
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #2aa198;">"Double quote"</span>
<span style="color: #2aa198;">'Double quote'</span>
&gt; <span style="color: #2aa198;">'Single quote'</span>
<span style="color: #2aa198;">'Single quote'</span>
&gt; <span style="color: #859900;">let</span> <span style="color: #6c71c4;">name</span> = <span style="color: #2aa198;">'Jack'</span>
&gt; <span style="color: #2aa198;">`Hi, ${name}`</span>
<span style="color: #2aa198;">'Hi, Jack'</span>
&gt; <span style="color: #2aa198;">`1 + 2 = ${1 + 2}`</span>
<span style="color: #2aa198;">'1 + 2 = 3'</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3864a89" class="outline-4">
<h4 id="org3864a89"><span class="section-number-4">4.2.2</span> 字符串长度</h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
<code>str.length</code> ，字符串长度是一个对象中的属性
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #2aa198;">'hello'</span>.length
5
</pre>
</div>
</div>
</div>

<div id="outline-container-orgce7dc2b" class="outline-4">
<h4 id="orgce7dc2b"><span class="section-number-4">4.2.3</span> 获取子字符串</h4>
<div class="outline-text-4" id="text-4-2-3">
<ul class="org-ul">
<li><code>[]</code> 和 <code>str.charAt(idx)</code>: 通过下标索引获取字符</li>
<li><code>str.slice(beginIndex[,endIndex])</code> 获取子字符串，如果 beginIndex 或
endIndex 是负表示反向索引</li>
<li><code>str.substring(indexStart[,indexEnd])</code> 和 slice 和类似，但是 substring 支
持 indexEnd 小于 indexStart</li>
</ul>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #2aa198;">'abcd'</span>.substring(1,3)
<span style="color: #2aa198;">'bc'</span>
&gt; <span style="color: #2aa198;">'abcd'</span>.substring(3,1)
<span style="color: #2aa198;">'bc'</span>
&gt; <span style="color: #2aa198;">'abcd'</span>.slice(1,3)
<span style="color: #2aa198;">'bc'</span>
&gt; <span style="color: #2aa198;">'abcd'</span>.slice(3,1)
<span style="color: #2aa198;">''</span>
&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb220657" class="outline-4">
<h4 id="orgb220657"><span class="section-number-4">4.2.4</span> 字符串查找</h4>
<div class="outline-text-4" id="text-4-2-4">
<ul class="org-ul">
<li><code>str.indexOf(searchValue,fromIndex)</code> : 查找字符串中是否包含 searchValue，
并返回下标</li>
<li><code>str.lastIndexOf(searchValue,fromIndex)</code> : 反向查找字符串中是否包含
searchValue，并返回下标</li>
<li><code>str.includes(searchString,[position])</code> : 查找字符串，返回布尔值</li>
<li><code>str.startsWith(searchString[,position])</code> 和
<code>str.endsWith(searchString[,length])</code></li>
</ul>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #2aa198;">'abaa'</span>.indexOf(<span style="color: #2aa198;">'a'</span>)
0
&gt; <span style="color: #2aa198;">'abaa'</span>.indexOf(<span style="color: #2aa198;">'b'</span>)
1
&gt; <span style="color: #2aa198;">'abaa'</span>.lastIndexOf(<span style="color: #2aa198;">'a'</span>)
3
&gt; <span style="color: #2aa198;">'abaa'</span>.includes(<span style="color: #2aa198;">'b'</span>)
<span style="color: #268bd2;">true</span>
&gt; <span style="color: #2aa198;">'hello'</span>.startsWith(<span style="color: #2aa198;">'h'</span>)
<span style="color: #268bd2;">true</span>
&gt; <span style="color: #2aa198;">'hello'</span>.startsWith(<span style="color: #2aa198;">'a'</span>)
<span style="color: #268bd2;">false</span>
&gt; <span style="color: #2aa198;">'hello'</span>.endsWith(<span style="color: #2aa198;">'a'</span>)
<span style="color: #268bd2;">false</span>
&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orge963c20" class="outline-4">
<h4 id="orge963c20"><span class="section-number-4">4.2.5</span> 字符串替换/正则表达式</h4>
<div class="outline-text-4" id="text-4-2-5">
<ul class="org-ul">
<li><code>str.replace(regexp|substr,newSubstr|function)</code></li>
<li><code>str.match(regexp)</code> : 匹配 regexp 返回数组，如果 regexp 是 null 则返回空</li>
<li><code>str.search(regexp)</code></li>
</ul>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #2aa198;">'abaa'</span>.replace(<span style="color: #2aa198;">'a'</span>, <span style="color: #2aa198;">'$'</span>)
<span style="color: #2aa198;">'$baa'</span>
&gt; <span style="color: #2aa198;">'abaa'</span>.replace(<span style="color: #2aa198;">/a/</span>g, <span style="color: #2aa198;">'$'</span>)
<span style="color: #2aa198;">'$b$$'</span>
&gt;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #2aa198;">'abaa'</span>.match(<span style="color: #2aa198;">/a/</span>g)
[ <span style="color: #2aa198;">'a'</span>, <span style="color: #2aa198;">'a'</span>, <span style="color: #2aa198;">'a'</span> ]
&gt; <span style="color: #2aa198;">'abaa'</span>.match(<span style="color: #2aa198;">/a/</span>)
[ <span style="color: #2aa198;">'a'</span>, index: 0, input: <span style="color: #2aa198;">'abaa'</span>, groups: <span style="color: #268bd2;">undefined</span> ]
&gt; <span style="color: #2aa198;">'abaa'</span>.match(<span style="color: #2aa198;">/^a/</span>)
[ <span style="color: #2aa198;">'a'</span>, index: 0, input: <span style="color: #2aa198;">'abaa'</span>, groups: <span style="color: #268bd2;">undefined</span> ]
&gt; <span style="color: #2aa198;">'For more information, see Chapter 3.4.5.1'</span>.match(<span style="color: #2aa198;">/see (chapter \d+(\.\d)*)/</span>i)
[ <span style="color: #2aa198;">'see Chapter 3.4.5.1'</span>,
  <span style="color: #2aa198;">'Chapter 3.4.5.1'</span>,
  <span style="color: #2aa198;">'.1'</span>,
  index: 22,
  input: <span style="color: #2aa198;">'For more information, see Chapter 3.4.5.1'</span>,
  groups: <span style="color: #268bd2;">undefined</span> ]
&gt; <span style="color: #2aa198;">'abaa'</span>.match(<span style="color: #268bd2;">null</span>)
<span style="color: #268bd2;">null</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org331395a" class="outline-4">
<h4 id="org331395a"><span class="section-number-4">4.2.6</span> 其它字符串函数</h4>
<div class="outline-text-4" id="text-4-2-6">
<ul class="org-ul">
<li><code>str.padStart()</code>, <code>str.padEnd()</code></li>
<li><code>str.repeat()</code></li>
<li><code>str.trim()</code>, <code>str.trimStart()</code>, <code>str.trimEnd()</code></li>
<li><code>str.toUpperCase()</code>, <code>str.toLowerCase()</code></li>
<li><code>str.split()</code></li>
</ul>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #2aa198;">'abaa'</span>.split()
[ <span style="color: #2aa198;">'abaa'</span> ]
&gt; <span style="color: #2aa198;">'abaa'</span>.split(<span style="color: #2aa198;">''</span>)
[ <span style="color: #2aa198;">'a'</span>, <span style="color: #2aa198;">'b'</span>, <span style="color: #2aa198;">'a'</span>, <span style="color: #2aa198;">'a'</span> ]
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfae7227" class="outline-3">
<h3 id="orgfae7227"><span class="section-number-3">4.3</span> Array 数组</h3>
<div class="outline-text-3" id="text-4-3">
<p>
数组是具有固定长度 (<code>arr.length</code>) 的同一类元素的集合，具体参考 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">MDN</a> 中的定义。
</p>
</div>

<div id="outline-container-orga5fbdd9" class="outline-4">
<h4 id="orga5fbdd9"><span class="section-number-4">4.3.1</span> 创建</h4>
<div class="outline-text-4" id="text-4-3-1">
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #859900;">let</span> <span style="color: #6c71c4;">fruits</span> = [<span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Banana'</span>, <span style="color: #2aa198;">'Orange'</span>]
<span style="color: #268bd2;">undefined</span>
&gt; fruits.length
3
</pre>
</div>
</div>
</div>

<div id="outline-container-org385e2be" class="outline-4">
<h4 id="org385e2be"><span class="section-number-4">4.3.2</span> 修改元素：添加/删除</h4>
<div class="outline-text-4" id="text-4-3-2">
<ul class="org-ul">
<li><code>push(...items)</code> : 添加元素到数组结尾</li>
<li><code>pop()</code> : 移除结尾的元素</li>
<li><code>shift()</code> : 删除起始的元素</li>
<li><code>unshift(...items)</code> : 添加元素到数组起始</li>
</ul>
<div class="org-src-container">
<pre class="src src-js">&gt; fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Banana'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt; fruits.push(<span style="color: #2aa198;">'Grape'</span>)
4
&gt; fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Banana'</span>, <span style="color: #2aa198;">'Orange'</span>, <span style="color: #2aa198;">'Grape'</span> ]
&gt; fruits.pop()
<span style="color: #2aa198;">'Grape'</span>
&gt; fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Banana'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt; fruits.shift()
<span style="color: #2aa198;">'Apple'</span>
&gt; fruits
[ <span style="color: #2aa198;">'Banana'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt; fruits.unshift(<span style="color: #2aa198;">'Apple'</span>)
3
&gt; fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Banana'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt;
</pre>
</div>

<ul class="org-ul">
<li><code>splice(pos, deleteCount, ...items)</code> : 在 <code>pos</code> 位置删除 <code>deleteCount</code> 个元
素然后插入 <code>items</code></li>
<li><code>slice(start, end)</code> : 创建一个新的数组, 复制 <code>start</code> 到 <code>end</code> (不包含) 到新
的数组中</li>
<li><code>concat(...items)</code> : 返回一个新的数组: 拷贝当前数组的所有元素然后添加
<code>items</code> 到新的数组中. 如果任何 <code>items</code> 是一个数组, 数组里面的元素都会添加的
新的数组中</li>
</ul>
<div class="org-src-container">
<pre class="src src-js">&gt; fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Banana'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt; <span style="color: #859900;">let</span> <span style="color: #6c71c4;">new_fruits</span> = fruits.slice(0, 2)
&gt; new_fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Banana'</span> ]
&gt; fruits.splice(1, 1)
[ <span style="color: #2aa198;">'Banana'</span> ]
&gt; fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt; fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt; fruits.splice(1, 0, <span style="color: #2aa198;">'Pear'</span>)
[]
&gt; fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Pear'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt; fruits.concat(<span style="color: #2aa198;">'Banana'</span>)
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Pear'</span>, <span style="color: #2aa198;">'Orange'</span>, <span style="color: #2aa198;">'Banana'</span> ]
&gt; fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Pear'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org4ef8a6b" class="outline-4">
<h4 id="org4ef8a6b"><span class="section-number-4">4.3.3</span> 查找</h4>
<div class="outline-text-4" id="text-4-3-3">
<ul class="org-ul">
<li><code>indexOf/lastIndexOf(item, pos)</code> : 查找 <code>item</code> , 起始位置是~pos~ , 如果没有
找到则返回 <code>-1</code></li>
<li><code>includes(value)</code> : 返回 <code>true</code> 如果数组包含 <code>value</code> , 否则 <code>false</code></li>
<li><code>find/filter(func)</code> : 使用谓词函数过滤数组, 返回第一个/所有的使得谓词函数成
立的元素</li>
<li><code>findIndex(func)</code> : 和 <code>find</code> 相似, 但是返回下标索引而不是数组元素</li>
</ul>
<div class="org-src-container">
<pre class="src src-js">&gt; fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Pear'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt; fruits.indexOf(<span style="color: #2aa198;">'Pear'</span>)
1
&gt; fruits.indexOf(<span style="color: #2aa198;">'Banana'</span>)
-1
&gt; fruits.find(<span style="color: #859900;">function</span> (<span style="color: #6c71c4;">e</span>) { <span style="color: #859900;">return</span> e.length &gt;= 5;})
<span style="color: #2aa198;">'Apple'</span>
&gt; fruits.filter(<span style="color: #859900;">function</span> (<span style="color: #6c71c4;">e</span>) { <span style="color: #859900;">return</span> e.length &gt;= 5;})
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt; fruits.includes(<span style="color: #2aa198;">'Banana'</span>)
<span style="color: #268bd2;">false</span>
&gt; fruits.includes(<span style="color: #2aa198;">'Pear'</span>)
<span style="color: #268bd2;">true</span>
&gt; <span style="color: #2aa198;">'Banana'</span> <span style="color: #859900;">in</span> fruits
<span style="color: #268bd2;">false</span>
&gt; <span style="color: #2aa198;">'Pear'</span> <span style="color: #859900;">in</span> fruits
<span style="color: #268bd2;">false</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc7e727f" class="outline-4">
<h4 id="orgc7e727f"><span class="section-number-4">4.3.4</span> 迭代</h4>
<div class="outline-text-4" id="text-4-3-4">
<ul class="org-ul">
<li><code>forEach(func)</code> : 调用 <code>func</code> 处理所有的数组里的元素, 但是不返回</li>
</ul>
<div class="org-src-container">
<pre class="src src-js">[<span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Banana'</span>, <span style="color: #2aa198;">'Orange'</span>].forEach(<span style="color: #859900;">function</span>(<span style="color: #6c71c4;">e</span>, <span style="color: #6c71c4;">i</span>, <span style="color: #6c71c4;">arr</span>) {
  console.log(i + <span style="color: #2aa198;">" : "</span> + e)
})
</pre>
</div>
</div>
</div>

<div id="outline-container-org12d0d9e" class="outline-4">
<h4 id="org12d0d9e"><span class="section-number-4">4.3.5</span> 数组变换</h4>
<div class="outline-text-4" id="text-4-3-5">
<ul class="org-ul">
<li><code>map(func)</code> : 调用 <code>func</code> 处理所有数组里的元素，返回处理结果集构成的新数组</li>
<li><code>sort(func)</code> : 使用 <code>func</code> 排序数组，然后返回</li>
<li><code>reverse()</code> : 返回逆序的数组</li>
<li><code>split/join</code> : 在字符串和数组之间转换</li>
<li><code>reduce(func, initial)</code> : 计算得出一个值， 通过调用 <code>func</code> 函数处理起始值和
中间值</li>
</ul>
<div class="org-src-container">
<pre class="src src-js">&gt; fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Pear'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt; fruits.map(<span style="color: #859900;">function</span>(<span style="color: #6c71c4;">e</span>) { <span style="color: #859900;">return</span> e.toUpperCase();})
[ <span style="color: #2aa198;">'APPLE'</span>, <span style="color: #2aa198;">'PEAR'</span>, <span style="color: #2aa198;">'ORANGE'</span> ]
&gt; fruits.reduce(<span style="color: #859900;">function</span>(<span style="color: #6c71c4;">a</span>, <span style="color: #6c71c4;">e</span>) { <span style="color: #859900;">return</span> a+<span style="color: #2aa198;">':'</span>+e;}, <span style="color: #2aa198;">''</span>)
<span style="color: #2aa198;">':Apple:Pear:Orange'</span>
&gt; fruits.join(<span style="color: #2aa198;">':'</span>)
<span style="color: #2aa198;">'Apple:Pear:Orange'</span>
&gt; <span style="color: #2aa198;">'Apple:Pear:Orange'</span>.split(<span style="color: #2aa198;">':'</span>)
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Pear'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt; fruits.sort()
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Orange'</span>, <span style="color: #2aa198;">'Pear'</span> ]
&gt; fruits
[ <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Orange'</span>, <span style="color: #2aa198;">'Pear'</span> ]
&gt; fruits.sort(<span style="color: #859900;">function</span>(<span style="color: #6c71c4;">a</span>,<span style="color: #6c71c4;">b</span>) {<span style="color: #859900;">return</span> a.length&gt;b.length?1:-1;})
[ <span style="color: #2aa198;">'Pear'</span>, <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Orange'</span> ]
&gt; fruits.reverse()
[ <span style="color: #2aa198;">'Orange'</span>, <span style="color: #2aa198;">'Apple'</span>, <span style="color: #2aa198;">'Pear'</span> ]
&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc60c08b" class="outline-4">
<h4 id="orgc60c08b"><span class="section-number-4">4.3.6</span> 其它</h4>
<div class="outline-text-4" id="text-4-3-6">
<ul class="org-ul">
<li><code>Array.isArray(arr)</code> : 检查 <code>arr</code> 是否是数组对象</li>
<li><code>arr.some(fn)</code> / <code>arr.every(fn)</code> : 调用 <code>fn</code> 作用于数组所有元素，如果任何/
所有的都返回 <code>true</code>, 则返回 <code>true</code>, 否则返回 <code>false</code></li>
<li><code>arr.fill(value, start, end)</code> : 使用 <code>value</code> 填充数组 <code>start</code> 到 <code>end</code> 位置
的元素</li>
<li><code>arr.copyWithin(target, start, end)</code> : 复制数组 <code>start</code> 到 <code>end</code> 位置中的元
素到自身 <code>target</code> 位置中, 注意会覆盖已存在的元素</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orga7aa9ff" class="outline-3">
<h3 id="orga7aa9ff"><span class="section-number-3">4.4</span> 迭代器/数组类似物</h3>
<div class="outline-text-3" id="text-4-4">
</div>
<div id="outline-container-orgf1d7bab" class="outline-4">
<h4 id="orgf1d7bab"><span class="section-number-4">4.4.1</span> Array-like 和 Iterable</h4>
<div class="outline-text-4" id="text-4-4-1">
<ul class="org-ul">
<li><code>Iterable</code> 是实现了 <code>Symbol.iterator</code> 方法的对象
<ul class="org-ul">
<li><code>Symbol.iterator</code> 必须包含 <code>next()</code> 方法</li>
<li><code>next()</code> 方法必须返回像 <code>{done: Boolean, value: any}</code> 这样的对象，done 为
<code>true</code> 表示迭代器结束</li>
<li><code>Iterable</code> 主要是使用 <code>for..of</code> 迭代器进行迭代</li>
</ul></li>
<li><code>Array-like</code> 是含义 <code>length</code> 属性和可索引的对象</li>
</ul>

<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">let</span> <span style="color: #6c71c4;">arrayLike</span> = { <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">has indexes and length =&gt; array-like</span>
  0: <span style="color: #2aa198;">"Hello"</span>,
  1: <span style="color: #2aa198;">"World"</span>,
  length: 2
};

<span style="color: #859900;">let</span> <span style="color: #6c71c4;">iterable</span> = {
  from: 1,
  to: 5,
  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">1. call to for..of initially calls this</span>
  [Symbol.iterator]() {
    <span style="color: #268bd2;">this</span>.current = <span style="color: #268bd2;">this</span>.from;
    <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">2. ...it returns the iterator:</span>
    <span style="color: #859900;">return</span> <span style="color: #268bd2;">this</span>;
  },
  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">3. next() is called on each iteration by the for..of loop</span>
  next() {
    <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">4. it should return the value as an object {done:.., value :...}</span>
    <span style="color: #859900;">if</span> (<span style="color: #268bd2;">this</span>.current &lt;= <span style="color: #268bd2;">this</span>.to) {
      <span style="color: #859900;">return</span> { done: <span style="color: #268bd2;">false</span>, value: <span style="color: #268bd2;">this</span>.current++ };
    } <span style="color: #859900;">else</span> {
      <span style="color: #859900;">return</span> { done: <span style="color: #268bd2;">true</span> };
    }
  }
  }
}

<span style="color: #859900;">for</span> (<span style="color: #859900;">let</span> <span style="color: #6c71c4;">num</span> of iterable) { console.log(num); } <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">=&gt; prints 1, 2, 3, 4, 5</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org880a7bb" class="outline-4">
<h4 id="org880a7bb"><span class="section-number-4">4.4.2</span> <code>Array.from</code></h4>
<div class="outline-text-4" id="text-4-4-2">
<p>
<code>Array.from(arrayLike[,mapFn[,thisArg]])</code> 通过 Array-like 的对象来新建一个真
的 Array，例如字符串 <code>'foo'</code> 是 Array-like 对象，因此可以建立一个新的数组
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; Array.from(<span style="color: #2aa198;">'foo'</span>);
[ <span style="color: #2aa198;">'f'</span>, <span style="color: #2aa198;">'o'</span>, <span style="color: #2aa198;">'o'</span> ]
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org51f6e06" class="outline-3">
<h3 id="org51f6e06"><span class="section-number-3">4.5</span> Map/Set 等标准内置对象</h3>
<div class="outline-text-3" id="text-4-5">
<p>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a> , WeakMap, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>, WeakSet 等都是常用的 Javascript 对象，具体参考 MDN 中的定
义 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects"> Standard built-in objects</a>
</p>

<p>
Map 对象操作
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">let</span> <span style="color: #6c71c4;">map</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Map</span>();

map.set(<span style="color: #2aa198;">'1'</span>, <span style="color: #2aa198;">'str1'</span>);   <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">a string key</span>
map.set(1, <span style="color: #2aa198;">'num1'</span>);     <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">a numeric key</span>
map.set(<span style="color: #268bd2;">true</span>, <span style="color: #2aa198;">'bool1'</span>); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">a boolean key</span>

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">remember the regular Object? it would convert keys to string</span>
<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">Map keeps the type, so these two are different:</span>
alert( map.get(1)   ); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">'num1'</span>
alert( map.get(<span style="color: #2aa198;">'1'</span>) ); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">'str1'</span>

alert( map.size ); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">3</span>

<span style="color: #859900;">let</span> <span style="color: #6c71c4;">recipeMap</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Map</span>([
  [<span style="color: #2aa198;">'cucumber'</span>, 500],
  [<span style="color: #2aa198;">'tomatoes'</span>, 350],
  [<span style="color: #2aa198;">'onion'</span>,    50]
]);

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">iterate over keys (vegetables)</span>
<span style="color: #859900;">for</span> (<span style="color: #859900;">let</span> <span style="color: #6c71c4;">vegetable</span> of recipeMap.keys()) {
  alert(vegetable); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">cucumber, tomatoes, onion</span>
}

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">iterate over values (amounts)</span>
<span style="color: #859900;">for</span> (<span style="color: #859900;">let</span> <span style="color: #6c71c4;">amount</span> of recipeMap.values()) {
  alert(amount); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">500, 350, 50</span>
}

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">iterate over [key, value] entries</span>
<span style="color: #859900;">for</span> (<span style="color: #859900;">let</span> <span style="color: #6c71c4;">entry</span> of recipeMap) { <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">the same as of recipeMap.entries()</span>
  alert(entry); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">cucumber,500 (and so on)</span>
}
</pre>
</div>

<p>
Set 集合函数
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">let</span> <span style="color: #6c71c4;">set</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Set</span>();

<span style="color: #859900;">let</span> <span style="color: #6c71c4;">john</span> = { name: <span style="color: #2aa198;">"John"</span> };
<span style="color: #859900;">let</span> <span style="color: #6c71c4;">pete</span> = { name: <span style="color: #2aa198;">"Pete"</span> };
<span style="color: #859900;">let</span> <span style="color: #6c71c4;">mary</span> = { name: <span style="color: #2aa198;">"Mary"</span> };

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">visits, some users come multiple times</span>
set.add(john);
set.add(pete);
set.add(mary);
set.add(john);
set.add(mary);

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">set keeps only unique values</span>
alert( set.size ); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">3</span>

<span style="color: #859900;">for</span> (<span style="color: #859900;">let</span> <span style="color: #6c71c4;">user</span> of set) {
  alert(user.name); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">John (then Pete and Mary)</span>
}

<span style="color: #859900;">let</span> <span style="color: #6c71c4;">set</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Set</span>([<span style="color: #2aa198;">"oranges"</span>, <span style="color: #2aa198;">"apples"</span>, <span style="color: #2aa198;">"bananas"</span>]);

<span style="color: #859900;">for</span> (<span style="color: #859900;">let</span> <span style="color: #6c71c4;">value</span> of set) alert(value);

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">the same with forEach:</span>
set.forEach((value, valueAgain, set) =&gt; {
  alert(value);
});
</pre>
</div>
</div>
</div>

<div id="outline-container-org151bda0" class="outline-3">
<h3 id="org151bda0"><span class="section-number-3">4.6</span> Object 对象</h3>
<div class="outline-text-3" id="text-4-6">
<p>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a> 是 JavaScript 中的对象
</p>
</div>

<div id="outline-container-org47099df" class="outline-4">
<h4 id="org47099df"><span class="section-number-4">4.6.1</span> 定义对象</h4>
<div class="outline-text-4" id="text-4-6-1">
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #859900;">let</span> <span style="color: #6c71c4;">user1</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Object</span>()
&gt; user1
{}
&gt; <span style="color: #859900;">let</span> <span style="color: #6c71c4;">user2</span> = {}
&gt; user2
{}
&gt; <span style="color: #859900;">let</span> <span style="color: #6c71c4;">user3</span> = {name: <span style="color: #2aa198;">'Tom'</span>, age: 22}
&gt; user3
{ name: <span style="color: #2aa198;">'Tom'</span>, age: 22 }
&gt; user3.name
<span style="color: #2aa198;">'Tom'</span>
&gt; user3[<span style="color: #2aa198;">'name'</span>]
<span style="color: #2aa198;">'Tom'</span>
&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf937c97" class="outline-4">
<h4 id="orgf937c97"><span class="section-number-4">4.6.2</span> 对象基本操作</h4>
<div class="outline-text-4" id="text-4-6-2">
<ul class="org-ul">
<li>引用对象中的值
<ul class="org-ul">
<li>点方式： <code>obj.key</code></li>
<li>方括号方式： <code>obj['key']</code></li>
</ul></li>
<li>删除对象中的值 <code>delete obj.key</code></li>
<li>判断对象中是否存在键 <code>'key' in obj</code></li>
</ul>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">let</span> <span style="color: #6c71c4;">usr</span> = {name: <span style="color: #2aa198;">'Tom'</span>, age: 22}
&gt; <span style="color: #2aa198;">'name'</span> <span style="color: #859900;">in</span> usr
<span style="color: #268bd2;">true</span>
&gt; <span style="color: #2aa198;">'birthday'</span> <span style="color: #859900;">in</span> usr
<span style="color: #268bd2;">false</span>
&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org5c47be9" class="outline-4">
<h4 id="org5c47be9"><span class="section-number-4">4.6.3</span> 对象引用/复制</h4>
<div class="outline-text-4" id="text-4-6-3">
<p>
<code>=</code> 赋值是引用
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; obj1 = {a:<span style="color: #2aa198;">'Apple'</span>, b:1}
{ a: <span style="color: #2aa198;">'Apple'</span>, b: 1 }
&gt; obj2 = obj1
{ a: <span style="color: #2aa198;">'Apple'</span>, b: 1 }
&gt; obj2.b = 7
7
&gt; obj1
{ a: <span style="color: #2aa198;">'Apple'</span>, b: 7 }
&gt;
</pre>
</div>

<p>
<code>Object.assign(...)</code> 可以实现复制传值，或者使用 lodash 库中的
<a href="https://lodash.com/docs#cloneDeep">_.cloneDeep(obj)</a>
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; obj3 = Object.assign({}, obj1)
{ a: <span style="color: #2aa198;">'Apple'</span>, b: 7 }
&gt; obj3.b = 9
9
&gt; obj1
{ a: <span style="color: #2aa198;">'Apple'</span>, b: 7 }
&gt;
</pre>
</div>

<p>
下面是更多的传值的示例
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; usr
{ name: <span style="color: #2aa198;">'Tom'</span>, age: 22, foo: <span style="color: #268bd2;">undefined</span> }
&gt; usr1 = usr
{ name: <span style="color: #2aa198;">'Tom'</span>, age: 22, foo: <span style="color: #268bd2;">undefined</span> }
&gt; usr1 == usr
<span style="color: #268bd2;">true</span>
&gt; usr1 === usr
<span style="color: #268bd2;">true</span>
&gt; <span style="color: #859900;">let</span> <span style="color: #6c71c4;">_usr</span> = {}
&gt; <span style="color: #859900;">for</span> (k <span style="color: #859900;">in</span> usr) { _usr[k] = usr[k]; }
&gt; _usr
{ name: <span style="color: #2aa198;">'Tom'</span>, age: 22, foo: <span style="color: #268bd2;">undefined</span> }
&gt; _usr == usr
<span style="color: #268bd2;">false</span>
&gt; _usr === usr
<span style="color: #268bd2;">false</span>
&gt; usr
{ name: <span style="color: #2aa198;">'Jackson'</span>, age: 22, foo: <span style="color: #268bd2;">undefined</span> }
&gt; <span style="color: #859900;">delete</span> usr.foo
<span style="color: #268bd2;">true</span>
&gt; usr
{ name: <span style="color: #2aa198;">'Jackson'</span>, age: 22 }
&gt; <span style="color: #2aa198;">'foo'</span> <span style="color: #859900;">in</span> usr
<span style="color: #268bd2;">false</span>
&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org8026d98" class="outline-4">
<h4 id="org8026d98"><span class="section-number-4">4.6.4</span> 更新对象</h4>
<div class="outline-text-4" id="text-4-6-4">
<p>
<code>Object.assign(dest[, src1, src2, src3...])</code> 可以批量更新对象中的数值。
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; usr
{ name: <span style="color: #2aa198;">'Tom'</span>, age: 22, foo: <span style="color: #268bd2;">undefined</span> }
&gt; Object.assign(usr, {name: <span style="color: #2aa198;">'Jackson'</span>})
{ name: <span style="color: #2aa198;">'Jackson'</span>, age: 22, foo: <span style="color: #268bd2;">undefined</span> }
&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orge1fd7b4" class="outline-4">
<h4 id="orge1fd7b4"><span class="section-number-4">4.6.5</span> 对象的键和值</h4>
<div class="outline-text-4" id="text-4-6-5">
<ul class="org-ul">
<li><code>Object.keys(obj)</code> 返回 obj 的键</li>
<li><code>Object.values(obj)</code> 返回 obj 的值</li>
<li><code>Object.entries(obj)</code> 返回 obj 的 [key, value] 对</li>
</ul>

<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #859900;">let</span> <span style="color: #6c71c4;">o1</span> = {apple:1, banana:2, orange:3}
&gt; o1
{ apple: 1, banana: 2, orange: 3 }
&gt; Object.keys(o1)
[ <span style="color: #2aa198;">'apple'</span>, <span style="color: #2aa198;">'banana'</span>, <span style="color: #2aa198;">'orange'</span> ]
&gt; o1.keys()
TypeError: o1.keys is not a <span style="color: #859900;">function</span>
&gt; Object.values(o1)
[ 1, 2, 3 ]
&gt; Object.entries(o1)
[ [ <span style="color: #2aa198;">'apple'</span>, 1 ], [ <span style="color: #2aa198;">'banana'</span>, 2 ], [ <span style="color: #2aa198;">'orange'</span>, 3 ] ]
&gt;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf625b67" class="outline-3">
<h3 id="orgf625b67"><span class="section-number-3">4.7</span> Date 时间和日期</h3>
<div class="outline-text-3" id="text-4-7">
<p>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a> 是表示时间和日期的内置对象
</p>
</div>

<div id="outline-container-org73e8d3a" class="outline-4">
<h4 id="org73e8d3a"><span class="section-number-4">4.7.1</span> 创建日期对象</h4>
<div class="outline-text-4" id="text-4-7-1">
<p>
<code>new Date()</code>, <code>new Date(milliseconds)</code> 和 <code>new Date(date_str)</code> 可以创建日期
对象
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #859900;">new</span> <span style="color: #268bd2;">Date</span>()
2019-07-30T06:58:04.792Z
&gt; <span style="color: #859900;">new</span> <span style="color: #268bd2;">Date</span>(123124123)
1970-01-02T10:12:04.123Z
&gt; <span style="color: #859900;">new</span> <span style="color: #268bd2;">Date</span>(<span style="color: #2aa198;">"2017-01-26"</span>)
2017-01-26T00:00:00.000Z
</pre>
</div>
</div>
</div>

<div id="outline-container-org7b72f89" class="outline-4">
<h4 id="org7b72f89"><span class="section-number-4">4.7.2</span> 时间函数</h4>
<div class="outline-text-4" id="text-4-7-2">
<p>
具体见下面的样例
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #859900;">let</span> <span style="color: #6c71c4;">now</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">Date</span>()
&gt; now.getFullYear()
2019
&gt; now.getYear()
119
&gt; now.getMonth()
6
&gt; now.getDate()
30
&gt; now.getHours()
15
&gt; now.getMinutes()
5
&gt; now.getSeconds()
21
&gt; now.getMilliseconds()
725
&gt; now.getDay()
2
&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdf00197" class="outline-4">
<h4 id="orgdf00197"><span class="section-number-4">4.7.3</span> 时间戳</h4>
<div class="outline-text-4" id="text-4-7-3">
<p>
时间戳有以下函数
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">get timestamp</span>
&gt; now
2019-07-30T07:05:21.725Z
&gt; now.getTime()
1564470321725
&gt; +now
1564470321725
&gt; Date.now()
1564470538021

<span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">time diff</span>
&gt; <span style="color: #859900;">new</span> <span style="color: #268bd2;">Date</span>() - now
260547
</pre>
</div>
</div>
</div>

<div id="outline-container-orge3016c2" class="outline-4">
<h4 id="orge3016c2"><span class="section-number-4">4.7.4</span> 字符串和 Date 互转</h4>
<div class="outline-text-4" id="text-4-7-4">
<p>
<code>Date.parse(str)</code>, str 应满足 <code>YYYY-MM-DDTHH:mm:ss.sssZ</code> 格式
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; Date.parse(<span style="color: #2aa198;">'2012-01-26T13:51:50.417-07:00'</span>);
1327611110417
</pre>
</div>

<p>
Date 转字符串有以下方法
</p>
<div class="org-src-container">
<pre class="src src-js">&gt; now.toJSON()
<span style="color: #2aa198;">'2019-07-30T07:05:21.725Z'</span>
&gt; now.toDateString()
<span style="color: #2aa198;">'Tue Jul 30 2019'</span>
&gt; now.toISOString()
<span style="color: #2aa198;">'2019-07-30T07:05:21.725Z'</span>
&gt; now.toString()
<span style="color: #2aa198;">'Tue Jul 30 2019 15:05:21 GMT+0800 (GMT+08:00)'</span>
&gt; now.toTimeString()
<span style="color: #2aa198;">'15:05:21 GMT+0800 (GMT+08:00)'</span>
&gt; now.toUTCString()
<span style="color: #2aa198;">'Tue, 30 Jul 2019 07:05:21 GMT'</span>
&gt;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4d46e30" class="outline-3">
<h3 id="org4d46e30"><span class="section-number-3">4.8</span> JSON</h3>
<div class="outline-text-3" id="text-4-8">
<ul class="org-ul">
<li><code>JSON.stringify(obj)</code> 将数组或对象转成 JSON 字符串</li>
<li><code>JSON.parse(str)</code> 解析 JSON 字符串</li>
</ul>
<div class="org-src-container">
<pre class="src src-js">&gt; <span style="color: #859900;">let</span> <span style="color: #6c71c4;">student</span> = {
...   name: <span style="color: #2aa198;">'John'</span>,
...   age: 30,
...   isAdmin: <span style="color: #268bd2;">false</span>,
...   courses: [<span style="color: #2aa198;">'html'</span>, <span style="color: #2aa198;">'css'</span>, <span style="color: #2aa198;">'js'</span>],
...   wife: <span style="color: #268bd2;">null</span>
... };
<span style="color: #268bd2;">undefined</span>
&gt; JSON.stringify(student)
<span style="color: #2aa198;">'{"name":"John","age":30,"isAdmin":false,"courses":["html","css","js"],"wife":null}'</span>
&gt; JSON.stringify([1,2,3])
<span style="color: #2aa198;">'[1,2,3]'</span>
&gt; JSON.parse(<span style="color: #2aa198;">'[1,2,3,2,3]'</span>)
[ 1, 2, 3, 2, 3 ]
&gt;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcead471" class="outline-2">
<h2 id="orgcead471"><span class="section-number-2">5</span> 面向对象知识</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orgc9c5fdd" class="outline-3">
<h3 id="orgc9c5fdd"><span class="section-number-3">5.1</span> <code>new</code> 关键字和构造器</h3>
<div class="outline-text-3" id="text-5-1">
</div>
<div id="outline-container-org1c07f0a" class="outline-4">
<h4 id="org1c07f0a"><span class="section-number-4">5.1.1</span> 构造器</h4>
<div class="outline-text-4" id="text-5-1-1">
<p>
JavaScript 中没有所谓的构造器，它的构造器实际上是一个函数，该函数满足以下两
点：
</p>
<ol class="org-ol">
<li>函数名称使用 Pascal case 命名</li>
<li>函数只能使用 <code>new</code> 操作符来执行</li>
</ol>

<p>
例如：
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">function</span> <span style="color: #b58900;">User</span>(<span style="color: #6c71c4;">name</span>) {
  <span style="color: #268bd2;">this</span>.name = name;
  <span style="color: #268bd2;">this</span>.isAdmin = <span style="color: #268bd2;">false</span>;
}

<span style="color: #859900;">let</span> <span style="color: #6c71c4;">user</span> = <span style="color: #859900;">new</span> <span style="color: #268bd2;">User</span>(<span style="color: #2aa198;">"Jack"</span>);

alert(user.name); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">Jack</span>
alert(user.isAdmin); <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">false</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc56b077" class="outline-4">
<h4 id="orgc56b077"><span class="section-number-4">5.1.2</span> <code>new</code> 操作符</h4>
<div class="outline-text-4" id="text-5-1-2">
<p>
<code>new</code> 操作符做了以下的事情:
</p>
<ol class="org-ol">
<li>新建了函数作用域的 <code>this</code> 对象</li>
<li>并且将新创建的 <code>this</code> 对象返回</li>
</ol>
<p>
该过程大致如下面代码所示：
</p>
<div class="org-src-container">
<pre class="src src-js"><span style="color: #859900;">function</span> <span style="color: #b58900;">User</span>(<span style="color: #6c71c4;">name</span>) {
  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">this = {};  (implicitly)</span>

  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">add properties to this</span>
  <span style="color: #268bd2;">this</span>.name = name;
  <span style="color: #268bd2;">this</span>.isAdmin = <span style="color: #268bd2;">false</span>;

  <span style="color: #93a1a1; font-style: italic;">// </span><span style="color: #93a1a1; font-style: italic;">return this;  (implicitly)</span>
}
</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Last Updated 2019-07-30 Tue 16:45. Created by Jinghui Hu at 2019-07-02 Tue 11:04.</p>
</div>
</body>
</html>
